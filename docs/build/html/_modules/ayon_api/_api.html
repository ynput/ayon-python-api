
	

<!DOCTYPE html>
<html class="writer-html5 " lang="en" >
<head>
	<meta charset="utf-8">
	
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	
		<title>ayon_api._api &mdash; ayon-python-api 1.0.9-dev.1 documentation</title>
	
	
	
	<link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
	<link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
	<link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
	<link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />

	
	
	
	
		<link rel="canonical" href="https://github.com/ynput/ayon-python-api_modules/ayon_api/_api.html"/>
	

	
	<!--[if lt IE 9]>
		<script src="../../_static/js/html5shiv.min.js"></script>
	<![endif]-->
	
		
			<script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
				<script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
				<script src="../../_static/jquery.js"></script>
				<script src="../../_static/underscore.js"></script>
				<script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
				<script src="../../_static/doctools.js"></script>
				<script src="../../_static/sphinx_highlight.js"></script>
		
		<script type="text/javascript" src="../../_static/js/theme.js"></script>

		
		<link rel="index" title="Index" href="../../genindex.html" />
		<link rel="search" title="Search" href="../../search.html" /> 
</head>
<body class="wy-body-for-nav">


	 
	<div class="wy-grid-for-nav">
		
		<nav data-toggle="wy-nav-shift" class="wy-nav-side">
			<div class="wy-side-scroll">
				<div class="wy-side-nav-search">
					
						<div class="brand">
							<a href="../../index.html">
							
								<img src="../../_static/AYON_blackG_dot.svg" class="logo" alt="Logo"/>
							
							</a>
						</div>
						
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
					
				</div>
				
				<div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
					
						
						
							
						
						
							<!-- Local TOC -->
							<div class="local-toc"></div>
						
					
				</div>
				
			</div>
		</nav>

		<section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

			
			<nav class="wy-nav-top" aria-label="top navigation">
			
				<i data-toggle="wy-nav-top" class="fa fa-bars"></i>
				<a href="../../index.html">
					
						<img src="../../_static/AYON_blackG_dot.svg" class="logo" alt="Logo"/>
					
				</a>
			
			</nav>


			<div class="wy-nav-content">
				
				<div class="rst-content">
				
					<div role="navigation" aria-label="breadcrumbs navigation">

	<ul class="wy-breadcrumbs">
		
			
				<li><a href="../../index.html">ayon-python-api</a> ⁄&nbsp;</li>
				
					<li><a href="../index.html">Module code</a> ⁄&nbsp;</li>
				
				<li><a href="">ayon_api._api</a></li>
			
		
		
			<li class="wy-breadcrumbs-aside">
			
				<a href="https://github.com/ynput/ayon-python-api" class="fa fa-github-alt"></a>
			
			</li>
		
	</ul>

</div>
					<div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
					 <div itemprop="articleBody">
						
  <h1>Source code for ayon_api._api</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;Singleton based server api for direct access.</span>

<span class="sd">This implementation will be probably the most used part of package. Gives</span>
<span class="sd">option to have singleton connection to Server URL based on environment variable</span>
<span class="sd">values. All public functions and classes are imported in &#39;__init__.py&#39; so</span>
<span class="sd">they&#39;re available directly in top module import.</span>

<span class="sd">Function that are just wrappers for ServerAPI object are generated</span>
<span class="sd">automatically, and changing them manually can cause issues.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">socket</span>

<span class="kn">from</span> <span class="nn">.constants</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">SERVER_URL_ENV_KEY</span><span class="p">,</span>
    <span class="n">SERVER_API_ENV_KEY</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">.server_api</span> <span class="kn">import</span> <span class="n">ServerAPI</span>
<span class="kn">from</span> <span class="nn">.exceptions</span> <span class="kn">import</span> <span class="n">FailedServiceInit</span>


<div class="viewcode-block" id="GlobalServerAPI"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.GlobalServerAPI">[docs]</a><span class="k">class</span> <span class="nc">GlobalServerAPI</span><span class="p">(</span><span class="n">ServerAPI</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Extended server api which also handles storing tokens and url.</span>

<span class="sd">    Created object expect to have set environment variables</span>
<span class="sd">    &#39;AYON_SERVER_URL&#39;. Also is expecting filled &#39;AYON_API_KEY&#39;</span>
<span class="sd">    but that can be filled afterwards with calling &#39;login&#39; method.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">site_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">client_version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">default_settings_variant</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">ssl_verify</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">cert</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_url</span><span class="p">()</span>
        <span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_token</span><span class="p">()</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">GlobalServerAPI</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">url</span><span class="p">,</span>
            <span class="n">token</span><span class="p">,</span>
            <span class="n">site_id</span><span class="p">,</span>
            <span class="n">client_version</span><span class="p">,</span>
            <span class="n">default_settings_variant</span><span class="p">,</span>
            <span class="n">ssl_verify</span><span class="p">,</span>
            <span class="n">cert</span><span class="p">,</span>
            <span class="c1"># We want to make sure that server and api key validation</span>
            <span class="c1">#   happens all the time in &#39;GlobalServerAPI&#39;.</span>
            <span class="n">create_session</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">validate_server_availability</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_session</span><span class="p">()</span>

<div class="viewcode-block" id="GlobalServerAPI.login"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.GlobalServerAPI.login">[docs]</a>    <span class="k">def</span> <span class="nf">login</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Login to the server or change user.</span>

<span class="sd">        If user is the same as current user and token is available the</span>
<span class="sd">        login is skipped.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">previous_token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_access_token</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">GlobalServerAPI</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_valid_token</span> <span class="ow">and</span> <span class="n">previous_token</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_access_token</span><span class="p">:</span>
            <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">SERVER_API_ENV_KEY</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_access_token</span></div>

<div class="viewcode-block" id="GlobalServerAPI.get_url"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.GlobalServerAPI.get_url">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_url</span><span class="p">():</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">SERVER_URL_ENV_KEY</span><span class="p">)</span></div>

<div class="viewcode-block" id="GlobalServerAPI.get_token"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.GlobalServerAPI.get_token">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_token</span><span class="p">():</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">SERVER_API_ENV_KEY</span><span class="p">)</span></div>

<div class="viewcode-block" id="GlobalServerAPI.set_environments"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.GlobalServerAPI.set_environments">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">set_environments</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">token</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change url and token environemnts in currently running process.</span>

<span class="sd">        Args:</span>
<span class="sd">            url (str): New server url.</span>
<span class="sd">            token (str): User&#39;s token.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">SERVER_URL_ENV_KEY</span><span class="p">]</span> <span class="o">=</span> <span class="n">url</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
        <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">SERVER_API_ENV_KEY</span><span class="p">]</span> <span class="o">=</span> <span class="n">token</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span></div></div>


<span class="k">class</span> <span class="nc">GlobalContext</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Singleton connection holder.</span>

<span class="sd">    Goal is to avoid create connection on import which can be dangerous in</span>
<span class="sd">    some cases.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_connection</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">is_connection_created</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_connection</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">change_token</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">token</span><span class="p">):</span>
        <span class="n">GlobalServerAPI</span><span class="o">.</span><span class="n">set_environments</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">token</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_connection</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_connection</span><span class="o">.</span><span class="n">get_base_url</span><span class="p">()</span> <span class="o">==</span> <span class="n">url</span><span class="p">:</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">_connection</span><span class="o">.</span><span class="n">set_token</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">close_connection</span><span class="p">()</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">close_connection</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_connection</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">_connection</span><span class="o">.</span><span class="n">close_session</span><span class="p">()</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">_connection</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_connection</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_connection</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">close_connection</span><span class="p">()</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">_connection</span> <span class="o">=</span> <span class="n">GlobalServerAPI</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_connection</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_server_api_connection</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_connection</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">create_connection</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_connection</span>


<div class="viewcode-block" id="ServiceContext"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.ServiceContext">[docs]</a><span class="k">class</span> <span class="nc">ServiceContext</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Helper for services running under server.</span>

<span class="sd">    When service is running from server the process receives information about</span>
<span class="sd">    connection from environment variables. This class helps to initialize the</span>
<span class="sd">    values without knowing environment variables (that may change over time).</span>

<span class="sd">    All what must be done is to call &#39;init_service&#39; function/method. The</span>
<span class="sd">    arguments are for cases when the service is running in specific environment</span>
<span class="sd">    and their values are e.g. loaded from private file or for testing purposes.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">token</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">server_url</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">addon_name</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">addon_version</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">service_name</span> <span class="o">=</span> <span class="kc">None</span>

<div class="viewcode-block" id="ServiceContext.init_service"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.ServiceContext.init_service">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">init_service</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">token</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">server_url</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">addon_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">addon_version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">service_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">connect</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">):</span>
        <span class="n">token</span> <span class="o">=</span> <span class="n">token</span> <span class="ow">or</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;AYON_API_KEY&quot;</span><span class="p">)</span>
        <span class="n">server_url</span> <span class="o">=</span> <span class="n">server_url</span> <span class="ow">or</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;AYON_SERVER_URL&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">server_url</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">FailedServiceInit</span><span class="p">(</span><span class="s2">&quot;URL to server is not set&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">token</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">FailedServiceInit</span><span class="p">(</span>
                <span class="s2">&quot;Token to server </span><span class="si">{}</span><span class="s2"> is not set&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">server_url</span><span class="p">)</span>
            <span class="p">)</span>

        <span class="n">addon_name</span> <span class="o">=</span> <span class="n">addon_name</span> <span class="ow">or</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;AYON_ADDON_NAME&quot;</span><span class="p">)</span>
        <span class="n">addon_version</span> <span class="o">=</span> <span class="n">addon_version</span> <span class="ow">or</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;AYON_ADDON_VERSION&quot;</span><span class="p">)</span>
        <span class="n">service_name</span> <span class="o">=</span> <span class="n">service_name</span> <span class="ow">or</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;AYON_SERVICE_NAME&quot;</span><span class="p">)</span>

        <span class="bp">cls</span><span class="o">.</span><span class="n">token</span> <span class="o">=</span> <span class="n">token</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">server_url</span> <span class="o">=</span> <span class="n">server_url</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">addon_name</span> <span class="o">=</span> <span class="n">addon_name</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">addon_version</span> <span class="o">=</span> <span class="n">addon_version</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">service_name</span> <span class="o">=</span> <span class="n">service_name</span> <span class="ow">or</span> <span class="n">socket</span><span class="o">.</span><span class="n">gethostname</span><span class="p">()</span>

        <span class="c1"># Make sure required environments for GlobalServerAPI are set</span>
        <span class="n">GlobalServerAPI</span><span class="o">.</span><span class="n">set_environments</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">server_url</span><span class="p">,</span> <span class="bp">cls</span><span class="o">.</span><span class="n">token</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">connect</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Connecting to server </span><span class="se">\&quot;</span><span class="si">{}</span><span class="se">\&quot;</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">server_url</span><span class="p">))</span>
            <span class="n">con</span> <span class="o">=</span> <span class="n">GlobalContext</span><span class="o">.</span><span class="n">get_server_api_connection</span><span class="p">()</span>
            <span class="n">user</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">get_user</span><span class="p">()</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Logged in as user </span><span class="se">\&quot;</span><span class="si">{}</span><span class="se">\&quot;</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">user</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]))</span></div></div>


<div class="viewcode-block" id="init_service"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.init_service">[docs]</a><span class="k">def</span> <span class="nf">init_service</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize current connection from service.</span>

<span class="sd">    The service expect specific environment variables. The variables must all</span>
<span class="sd">    be set to make the connection work as a service.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ServiceContext</span><span class="o">.</span><span class="n">init_service</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_service_addon_name"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_service_addon_name">[docs]</a><span class="k">def</span> <span class="nf">get_service_addon_name</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Name of addon which initialized service connection.</span>

<span class="sd">    Service context must be initialized to be able to use this function. Call</span>
<span class="sd">    &#39;init_service&#39; on you service start to do so.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Union[str, None]: Name of addon or None.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">ServiceContext</span><span class="o">.</span><span class="n">addon_name</span></div>


<div class="viewcode-block" id="get_service_addon_version"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_service_addon_version">[docs]</a><span class="k">def</span> <span class="nf">get_service_addon_version</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Version of addon which initialized service connection.</span>

<span class="sd">    Service context must be initialized to be able to use this function. Call</span>
<span class="sd">    &#39;init_service&#39; on you service start to do so.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Union[str, None]: Version of addon or None.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">ServiceContext</span><span class="o">.</span><span class="n">addon_version</span></div>


<div class="viewcode-block" id="get_service_name"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_service_name">[docs]</a><span class="k">def</span> <span class="nf">get_service_name</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Name of service.</span>

<span class="sd">    Service context must be initialized to be able to use this function. Call</span>
<span class="sd">    &#39;init_service&#39; on you service start to do so.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Union[str, None]: Name of service if service was registered.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">ServiceContext</span><span class="o">.</span><span class="n">service_name</span></div>


<div class="viewcode-block" id="get_service_addon_settings"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_service_addon_settings">[docs]</a><span class="k">def</span> <span class="nf">get_service_addon_settings</span><span class="p">(</span><span class="n">project_name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Addon settings of service which initialized service.</span>

<span class="sd">    Service context must be initialized to be able to use this function. Call</span>
<span class="sd">    &#39;init_service&#39; on you service start to do so.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (Optional[str]): Project name.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dict[str, Any]: Addon settings.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: When service was not initialized.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">addon_name</span> <span class="o">=</span> <span class="n">get_service_addon_name</span><span class="p">()</span>
    <span class="n">addon_version</span> <span class="o">=</span> <span class="n">get_service_addon_version</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">addon_name</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">addon_version</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Service is not initialized&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">get_addon_settings</span><span class="p">(</span>
        <span class="n">addon_name</span><span class="p">,</span> <span class="n">addon_version</span><span class="p">,</span> <span class="n">project_name</span><span class="o">=</span><span class="n">project_name</span>
    <span class="p">)</span></div>


<div class="viewcode-block" id="is_connection_created"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.is_connection_created">[docs]</a><span class="k">def</span> <span class="nf">is_connection_created</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Is global connection created.</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: True if connection was connected.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">GlobalContext</span><span class="o">.</span><span class="n">is_connection_created</span><span class="p">()</span></div>


<div class="viewcode-block" id="create_connection"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.create_connection">[docs]</a><span class="k">def</span> <span class="nf">create_connection</span><span class="p">(</span><span class="n">site_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">client_version</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create global connection.</span>

<span class="sd">    Args:</span>
<span class="sd">        site_id (str): Machine site id/name.</span>
<span class="sd">        client_version (str): Desktop app version.</span>

<span class="sd">    Returns:</span>
<span class="sd">        GlobalServerAPI: Created connection.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">GlobalContext</span><span class="o">.</span><span class="n">create_connection</span><span class="p">(</span><span class="n">site_id</span><span class="p">,</span> <span class="n">client_version</span><span class="p">)</span></div>


<div class="viewcode-block" id="close_connection"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.close_connection">[docs]</a><span class="k">def</span> <span class="nf">close_connection</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Close global connection if is connected.&quot;&quot;&quot;</span>
    <span class="n">GlobalContext</span><span class="o">.</span><span class="n">close_connection</span><span class="p">()</span></div>


<div class="viewcode-block" id="change_token"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.change_token">[docs]</a><span class="k">def</span> <span class="nf">change_token</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">token</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Change connection token for url.</span>

<span class="sd">    This function can be also used to change url.</span>

<span class="sd">    Args:</span>
<span class="sd">        url (str): Server url.</span>
<span class="sd">        token (str): API key token.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">GlobalContext</span><span class="o">.</span><span class="n">change_token</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">token</span><span class="p">)</span></div>


<div class="viewcode-block" id="set_environments"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.set_environments">[docs]</a><span class="k">def</span> <span class="nf">set_environments</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">token</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set global environments for global connection.</span>

<span class="sd">    Args:</span>
<span class="sd">        url (Union[str, None]): Url to server or None to unset environments.</span>
<span class="sd">        token (Union[str, None]): API key token to be used for connection.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">GlobalServerAPI</span><span class="o">.</span><span class="n">set_environments</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">token</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_server_api_connection"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_server_api_connection">[docs]</a><span class="k">def</span> <span class="nf">get_server_api_connection</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Access to global scope object of GlobalServerAPI.</span>

<span class="sd">    This access expect to have set environment variables &#39;AYON_SERVER_URL&#39;</span>
<span class="sd">    and &#39;AYON_API_KEY&#39;.</span>

<span class="sd">    Returns:</span>
<span class="sd">        GlobalServerAPI: Object of connection to server.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">GlobalContext</span><span class="o">.</span><span class="n">get_server_api_connection</span><span class="p">()</span></div>

<span class="c1"># ------------------------------------------------</span>
<span class="c1">#     This content is generated automatically.</span>
<span class="c1"># ------------------------------------------------</span>
<div class="viewcode-block" id="get_base_url"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_base_url">[docs]</a><span class="k">def</span> <span class="nf">get_base_url</span><span class="p">():</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_base_url</span><span class="p">()</span></div>


<div class="viewcode-block" id="get_rest_url"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_rest_url">[docs]</a><span class="k">def</span> <span class="nf">get_rest_url</span><span class="p">():</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_rest_url</span><span class="p">()</span></div>


<div class="viewcode-block" id="get_ssl_verify"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_ssl_verify">[docs]</a><span class="k">def</span> <span class="nf">get_ssl_verify</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Enable ssl verification.</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: Current state of ssl verification.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_ssl_verify</span><span class="p">()</span></div>


<div class="viewcode-block" id="set_ssl_verify"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.set_ssl_verify">[docs]</a><span class="k">def</span> <span class="nf">set_ssl_verify</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Change ssl verification state.</span>

<span class="sd">    Args:</span>
<span class="sd">        ssl_verify (Union[bool, str, None]): Enabled/disable</span>
<span class="sd">            ssl verification, can be a path to file.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">set_ssl_verify</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_cert"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_cert">[docs]</a><span class="k">def</span> <span class="nf">get_cert</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Current cert file used for connection to server.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Union[str, None]: Path to cert file.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_cert</span><span class="p">()</span></div>


<div class="viewcode-block" id="set_cert"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.set_cert">[docs]</a><span class="k">def</span> <span class="nf">set_cert</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Change cert file used for connection to server.</span>

<span class="sd">    Args:</span>
<span class="sd">        cert (Union[str, None]): Path to cert file.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">set_cert</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_timeout"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_timeout">[docs]</a><span class="k">def</span> <span class="nf">get_timeout</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Current value for requests timeout.</span>

<span class="sd">    Returns:</span>
<span class="sd">        float: Timeout value in seconds.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_timeout</span><span class="p">()</span></div>


<div class="viewcode-block" id="set_timeout"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.set_timeout">[docs]</a><span class="k">def</span> <span class="nf">set_timeout</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Change timeout value for requests.</span>

<span class="sd">    Args:</span>
<span class="sd">        timeout (Union[float, None]): Timeout value in seconds.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">set_timeout</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_max_retries"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_max_retries">[docs]</a><span class="k">def</span> <span class="nf">get_max_retries</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Current value for requests max retries.</span>

<span class="sd">    Returns:</span>
<span class="sd">        int: Max retries value.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_max_retries</span><span class="p">()</span></div>


<div class="viewcode-block" id="set_max_retries"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.set_max_retries">[docs]</a><span class="k">def</span> <span class="nf">set_max_retries</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Change max retries value for requests.</span>

<span class="sd">    Args:</span>
<span class="sd">        max_retries (Union[int, None]): Max retries value.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">set_max_retries</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="is_service_user"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.is_service_user">[docs]</a><span class="k">def</span> <span class="nf">is_service_user</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if connection is using service API key.</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: Used api key belongs to service user.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">is_service_user</span><span class="p">()</span></div>


<div class="viewcode-block" id="get_site_id"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_site_id">[docs]</a><span class="k">def</span> <span class="nf">get_site_id</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Site id used for connection.</span>

<span class="sd">    Site id tells server from which machine/site is connection created and</span>
<span class="sd">    is used for default site overrides when settings are received.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Union[str, None]: Site id value or None if not filled.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_site_id</span><span class="p">()</span></div>


<div class="viewcode-block" id="set_site_id"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.set_site_id">[docs]</a><span class="k">def</span> <span class="nf">set_site_id</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Change site id of connection.</span>

<span class="sd">    Behave as specific site for server. It affects default behavior of</span>
<span class="sd">    settings getter methods.</span>

<span class="sd">    Args:</span>
<span class="sd">        site_id (Union[str, None]): Site id value, or &#39;None&#39; to unset.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">set_site_id</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_client_version"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_client_version">[docs]</a><span class="k">def</span> <span class="nf">get_client_version</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Version of client used to connect to server.</span>

<span class="sd">    Client version is AYON client build desktop application.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: Client version string used in connection.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_client_version</span><span class="p">()</span></div>


<div class="viewcode-block" id="set_client_version"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.set_client_version">[docs]</a><span class="k">def</span> <span class="nf">set_client_version</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set version of client used to connect to server.</span>

<span class="sd">    Client version is AYON client build desktop application.</span>

<span class="sd">    Args:</span>
<span class="sd">        client_version (Union[str, None]): Client version string.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">set_client_version</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_default_settings_variant"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_default_settings_variant">[docs]</a><span class="k">def</span> <span class="nf">get_default_settings_variant</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Default variant used for settings.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Union[str, None]: name of variant or None.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_default_settings_variant</span><span class="p">()</span></div>


<div class="viewcode-block" id="set_default_settings_variant"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.set_default_settings_variant">[docs]</a><span class="k">def</span> <span class="nf">set_default_settings_variant</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Change default variant for addon settings.</span>

<span class="sd">    Note:</span>
<span class="sd">        It is recommended to set only &#39;production&#39; or &#39;staging&#39; variants</span>
<span class="sd">            as default variant.</span>

<span class="sd">    Args:</span>
<span class="sd">        variant (str): Settings variant name. It is possible to use</span>
<span class="sd">            &#39;production&#39;, &#39;staging&#39; or name of dev bundle.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">set_default_settings_variant</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_sender"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_sender">[docs]</a><span class="k">def</span> <span class="nf">get_sender</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sender used to send requests.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Union[str, None]: Sender name or None.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_sender</span><span class="p">()</span></div>


<div class="viewcode-block" id="set_sender"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.set_sender">[docs]</a><span class="k">def</span> <span class="nf">set_sender</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Change sender used for requests.</span>

<span class="sd">    Args:</span>
<span class="sd">        sender (Union[str, None]): Sender name or None.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">set_sender</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_info"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_info">[docs]</a><span class="k">def</span> <span class="nf">get_info</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get information about current used api key.</span>

<span class="sd">    By default, the &#39;info&#39; contains only &#39;uptime&#39; and &#39;version&#39;. With</span>
<span class="sd">    logged user info also contains information about user and machines on</span>
<span class="sd">    which was logged in.</span>

<span class="sd">    Todos:</span>
<span class="sd">        Use this method for validation of token instead of &#39;get_user&#39;.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict[str, Any]: Information from server.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_info</span><span class="p">()</span></div>


<div class="viewcode-block" id="get_server_version"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_server_version">[docs]</a><span class="k">def</span> <span class="nf">get_server_version</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get server version.</span>

<span class="sd">    Version should match semantic version (https://semver.org/).</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: Server version.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_server_version</span><span class="p">()</span></div>


<div class="viewcode-block" id="get_server_version_tuple"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_server_version_tuple">[docs]</a><span class="k">def</span> <span class="nf">get_server_version_tuple</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get server version as tuple.</span>

<span class="sd">    Version should match semantic version (https://semver.org/).</span>

<span class="sd">    This function only returns first three numbers of version.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Tuple[int, int, int, Union[str, None], Union[str, None]]: Server</span>
<span class="sd">            version.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_server_version_tuple</span><span class="p">()</span></div>


<div class="viewcode-block" id="get_users"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_users">[docs]</a><span class="k">def</span> <span class="nf">get_users</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get Users.</span>

<span class="sd">    Only administrators and managers can fetch all users. For other users</span>
<span class="sd">        it is required to pass in &#39;project_name&#39; filter.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (Optional[str]): Project name.</span>
<span class="sd">        usernames (Optional[Iterable[str]]): Filter by usernames.</span>
<span class="sd">        fields (Optional[Iterable[str]]): Fields to be queried</span>
<span class="sd">            for users.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Generator[dict[str, Any]]: Queried users.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_users</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_user_by_name"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_user_by_name">[docs]</a><span class="k">def</span> <span class="nf">get_user_by_name</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get user by name using GraphQl.</span>

<span class="sd">    Only administrators and managers can fetch all users. For other users</span>
<span class="sd">        it is required to pass in &#39;project_name&#39; filter.</span>

<span class="sd">    Args:</span>
<span class="sd">        username (str): Username.</span>
<span class="sd">        project_name (Optional[str]): Define scope of project.</span>
<span class="sd">        fields (Optional[Iterable[str]]): Fields to be queried</span>
<span class="sd">            for users.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Union[dict[str, Any], None]: User info or None if user is not</span>
<span class="sd">            found.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_user_by_name</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_user"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_user">[docs]</a><span class="k">def</span> <span class="nf">get_user</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get user info using REST endpoit.</span>

<span class="sd">    Args:</span>
<span class="sd">        username (Optional[str]): Username.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Union[dict[str, Any], None]: User info or None if user is not</span>
<span class="sd">            found.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_user</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="raw_post"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.raw_post">[docs]</a><span class="k">def</span> <span class="nf">raw_post</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">raw_post</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="raw_put"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.raw_put">[docs]</a><span class="k">def</span> <span class="nf">raw_put</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">raw_put</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="raw_patch"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.raw_patch">[docs]</a><span class="k">def</span> <span class="nf">raw_patch</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">raw_patch</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="raw_get"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.raw_get">[docs]</a><span class="k">def</span> <span class="nf">raw_get</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">raw_get</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="raw_delete"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.raw_delete">[docs]</a><span class="k">def</span> <span class="nf">raw_delete</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">raw_delete</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="post"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.post">[docs]</a><span class="k">def</span> <span class="nf">post</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="put"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.put">[docs]</a><span class="k">def</span> <span class="nf">put</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="patch"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.patch">[docs]</a><span class="k">def</span> <span class="nf">patch</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get">[docs]</a><span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="delete"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.delete">[docs]</a><span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_event"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_event">[docs]</a><span class="k">def</span> <span class="nf">get_event</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Query full event data by id.</span>

<span class="sd">    Events received using event server do not contain full information. To</span>
<span class="sd">    get the full event information is required to receive it explicitly.</span>

<span class="sd">    Args:</span>
<span class="sd">        event_id (str): Event id.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict[str, Any]: Full event data.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_event</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_events"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_events">[docs]</a><span class="k">def</span> <span class="nf">get_events</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get events from server with filtering options.</span>

<span class="sd">    Notes:</span>
<span class="sd">        Not all event happen on a project.</span>

<span class="sd">    Args:</span>
<span class="sd">        topics (Optional[Iterable[str]]): Name of topics.</span>
<span class="sd">        project_names (Optional[Iterable[str]]): Project on which</span>
<span class="sd">            event happened.</span>
<span class="sd">        states (Optional[Iterable[str]]): Filtering by states.</span>
<span class="sd">        users (Optional[Iterable[str]]): Filtering by users</span>
<span class="sd">            who created/triggered an event.</span>
<span class="sd">        include_logs (Optional[bool]): Query also log events.</span>
<span class="sd">        has_children (Optional[bool]): Event is with/without children</span>
<span class="sd">            events. If &#39;None&#39; then all events are returned, default.</span>
<span class="sd">        newer_than (Optional[str]): Return only events newer than given</span>
<span class="sd">            iso datetime string.</span>
<span class="sd">        older_than (Optional[str]): Return only events older than given</span>
<span class="sd">            iso datetime string.</span>
<span class="sd">        fields (Optional[Iterable[str]]): Fields that should be received</span>
<span class="sd">            for each event.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Generator[dict[str, Any]]: Available events matching filters.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_events</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="update_event"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.update_event">[docs]</a><span class="k">def</span> <span class="nf">update_event</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">update_event</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="dispatch_event"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.dispatch_event">[docs]</a><span class="k">def</span> <span class="nf">dispatch_event</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Dispatch event to server.</span>

<span class="sd">    Args:</span>
<span class="sd">        topic (str): Event topic used for filtering of listeners.</span>
<span class="sd">        sender (Optional[str]): Sender of event.</span>
<span class="sd">        event_hash (Optional[str]): Event hash.</span>
<span class="sd">        project_name (Optional[str]): Project name.</span>
<span class="sd">        username (Optional[str]): Username which triggered event.</span>
<span class="sd">        dependencies (Optional[list[str]]): List of event id dependencies.</span>
<span class="sd">        description (Optional[str]): Description of event.</span>
<span class="sd">        summary (Optional[dict[str, Any]]): Summary of event that can be used</span>
<span class="sd">            for simple filtering on listeners.</span>
<span class="sd">        payload (Optional[dict[str, Any]]): Full payload of event data with</span>
<span class="sd">            all details.</span>
<span class="sd">        finished (Optional[bool]): Mark event as finished on dispatch.</span>
<span class="sd">        store (Optional[bool]): Store event in event queue for possible</span>
<span class="sd">            future processing otherwise is event send only</span>
<span class="sd">            to active listeners.</span>

<span class="sd">    Returns:</span>
<span class="sd">        RestApiResponse: Response from server.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">dispatch_event</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="enroll_event_job"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.enroll_event_job">[docs]</a><span class="k">def</span> <span class="nf">enroll_event_job</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Enroll job based on events.</span>

<span class="sd">    Enroll will find first unprocessed event with &#39;source_topic&#39; and will</span>
<span class="sd">    create new event with &#39;target_topic&#39; for it and return the new event</span>
<span class="sd">    data.</span>

<span class="sd">    Use &#39;sequential&#39; to control that only single target event is created</span>
<span class="sd">    at same time. Creation of new target events is blocked while there is</span>
<span class="sd">    at least one unfinished event with target topic, when set to &#39;True&#39;.</span>
<span class="sd">    This helps when order of events matter and more than one process using</span>
<span class="sd">    the same target is running at the same time.</span>

<span class="sd">    Make sure the new event has updated status to &#39;&quot;finished&quot;&#39; status</span>
<span class="sd">    when you&#39;re done with logic</span>

<span class="sd">    Target topic should not clash with other processes/services.</span>

<span class="sd">    Created target event have &#39;dependsOn&#39; key where is id of source topic.</span>

<span class="sd">    Use-case:</span>
<span class="sd">        - Service 1 is creating events with topic &#39;my.leech&#39;</span>
<span class="sd">        - Service 2 process &#39;my.leech&#39; and uses target topic &#39;my.process&#39;</span>
<span class="sd">            - this service can run on 1-n machines</span>
<span class="sd">            - all events must be processed in a sequence by their creation</span>
<span class="sd">                time and only one event can be processed at a time</span>
<span class="sd">            - in this case &#39;sequential&#39; should be set to &#39;True&#39; so only</span>
<span class="sd">                one machine is actually processing events, but if one goes</span>
<span class="sd">                down there are other that can take place</span>
<span class="sd">        - Service 3 process &#39;my.leech&#39; and uses target topic &#39;my.discover&#39;</span>
<span class="sd">            - this service can run on 1-n machines</span>
<span class="sd">            - order of events is not important</span>
<span class="sd">            - &#39;sequential&#39; should be &#39;False&#39;</span>

<span class="sd">    Args:</span>
<span class="sd">        source_topic (str): Source topic to enroll.</span>
<span class="sd">        target_topic (str): Topic of dependent event.</span>
<span class="sd">        sender (str): Identifier of sender (e.g. service name or username).</span>
<span class="sd">        description (Optional[str]): Human readable text shown</span>
<span class="sd">            in target event.</span>
<span class="sd">        sequential (Optional[bool]): The source topic must be processed</span>
<span class="sd">            in sequence.</span>
<span class="sd">        events_filter (Optional[dict[str, Any]]): Filtering conditions</span>
<span class="sd">            to filter the source event. For more technical specifications</span>
<span class="sd">            look to server backed &#39;ayon_server.sqlfilter.Filter&#39;.</span>
<span class="sd">            TODO: Add example of filters.</span>
<span class="sd">        max_retries (Optional[int]): How many times can be event retried.</span>
<span class="sd">            Default value is based on server (3 at the time of this PR).</span>

<span class="sd">    Returns:</span>
<span class="sd">        Union[None, dict[str, Any]]: None if there is no event matching</span>
<span class="sd">            filters. Created event with &#39;target_topic&#39;.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">enroll_event_job</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="download_file_to_stream"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.download_file_to_stream">[docs]</a><span class="k">def</span> <span class="nf">download_file_to_stream</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Download file from AYON server to IOStream.</span>

<span class="sd">    Endpoint can be full url (must start with &#39;base_url&#39; of api object).</span>

<span class="sd">    Progress object can be used to track download. Can be used when</span>
<span class="sd">    download happens in thread and other thread want to catch changes over</span>
<span class="sd">    time.</span>

<span class="sd">    Todos:</span>
<span class="sd">        Use retries and timeout.</span>
<span class="sd">        Return RestApiResponse.</span>

<span class="sd">    Args:</span>
<span class="sd">        endpoint (str): Endpoint or URL to file that should be downloaded.</span>
<span class="sd">        stream (Union[io.BytesIO, BinaryIO]): Stream where output will be stored.</span>
<span class="sd">        chunk_size (Optional[int]): Size of chunks that are received</span>
<span class="sd">            in single loop.</span>
<span class="sd">        progress (Optional[TransferProgress]): Object that gives ability</span>
<span class="sd">            to track download progress.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">download_file_to_stream</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="download_file"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.download_file">[docs]</a><span class="k">def</span> <span class="nf">download_file</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Download file from AYON server.</span>

<span class="sd">    Endpoint can be full url (must start with &#39;base_url&#39; of api object).</span>

<span class="sd">    Progress object can be used to track download. Can be used when</span>
<span class="sd">    download happens in thread and other thread want to catch changes over</span>
<span class="sd">    time.</span>

<span class="sd">    Todos:</span>
<span class="sd">        Use retries and timeout.</span>
<span class="sd">        Return RestApiResponse.</span>

<span class="sd">    Args:</span>
<span class="sd">        endpoint (str): Endpoint or URL to file that should be downloaded.</span>
<span class="sd">        filepath (str): Path where file will be downloaded.</span>
<span class="sd">        chunk_size (Optional[int]): Size of chunks that are received</span>
<span class="sd">            in single loop.</span>
<span class="sd">        progress (Optional[TransferProgress]): Object that gives ability</span>
<span class="sd">            to track download progress.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">download_file</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="upload_file_from_stream"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.upload_file_from_stream">[docs]</a><span class="k">def</span> <span class="nf">upload_file_from_stream</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Upload file to server from bytes.</span>

<span class="sd">    Todos:</span>
<span class="sd">        Use retries and timeout.</span>
<span class="sd">        Return RestApiResponse.</span>

<span class="sd">    Args:</span>
<span class="sd">        endpoint (str): Endpoint or url where file will be uploaded.</span>
<span class="sd">        stream (Union[io.BytesIO, BinaryIO]): File content stream.</span>
<span class="sd">        progress (Optional[TransferProgress]): Object that gives ability</span>
<span class="sd">            to track upload progress.</span>
<span class="sd">        request_type (Optional[RequestType]): Type of request that will</span>
<span class="sd">            be used to upload file.</span>
<span class="sd">        **kwargs (Any): Additional arguments that will be passed</span>
<span class="sd">            to request function.</span>

<span class="sd">    Returns:</span>
<span class="sd">        requests.Response: Response object</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">upload_file_from_stream</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="upload_file"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.upload_file">[docs]</a><span class="k">def</span> <span class="nf">upload_file</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Upload file to server.</span>

<span class="sd">    Todos:</span>
<span class="sd">        Use retries and timeout.</span>
<span class="sd">        Return RestApiResponse.</span>

<span class="sd">    Args:</span>
<span class="sd">        endpoint (str): Endpoint or url where file will be uploaded.</span>
<span class="sd">        filepath (str): Source filepath.</span>
<span class="sd">        progress (Optional[TransferProgress]): Object that gives ability</span>
<span class="sd">            to track upload progress.</span>
<span class="sd">        request_type (Optional[RequestType]): Type of request that will</span>
<span class="sd">            be used to upload file.</span>
<span class="sd">        **kwargs (Any): Additional arguments that will be passed</span>
<span class="sd">            to request function.</span>

<span class="sd">    Returns:</span>
<span class="sd">        requests.Response: Response object</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">upload_file</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="upload_reviewable"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.upload_reviewable">[docs]</a><span class="k">def</span> <span class="nf">upload_reviewable</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Upload reviewable file to server.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project name.</span>
<span class="sd">        version_id (str): Version id.</span>
<span class="sd">        filepath (str): Reviewable file path to upload.</span>
<span class="sd">        label (Optional[str]): Reviewable label. Filled automatically</span>
<span class="sd">            server side with filename.</span>
<span class="sd">        content_type (Optional[str]): MIME type of the file.</span>
<span class="sd">        filename (Optional[str]): User as original filename. Filename from</span>
<span class="sd">            &#39;filepath&#39; is used when not filled.</span>
<span class="sd">        progress (Optional[TransferProgress]): Progress.</span>
<span class="sd">        headers (Optional[Dict[str, Any]]): Headers.</span>

<span class="sd">    Returns:</span>
<span class="sd">        RestApiResponse: Server response.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">upload_reviewable</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="trigger_server_restart"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.trigger_server_restart">[docs]</a><span class="k">def</span> <span class="nf">trigger_server_restart</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Trigger server restart.</span>

<span class="sd">    Restart may be required when a change of specific value happened on</span>
<span class="sd">    server.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">trigger_server_restart</span><span class="p">()</span></div>


<div class="viewcode-block" id="query_graphql"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.query_graphql">[docs]</a><span class="k">def</span> <span class="nf">query_graphql</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Execute GraphQl query.</span>

<span class="sd">    Args:</span>
<span class="sd">        query (str): GraphQl query string.</span>
<span class="sd">        variables (Optional[dict[str, Any]): Variables that can be</span>
<span class="sd">            used in query.</span>

<span class="sd">    Returns:</span>
<span class="sd">        GraphQlResponse: Response from server.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">query_graphql</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_graphql_schema"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_graphql_schema">[docs]</a><span class="k">def</span> <span class="nf">get_graphql_schema</span><span class="p">():</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_graphql_schema</span><span class="p">()</span></div>


<div class="viewcode-block" id="get_server_schema"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_server_schema">[docs]</a><span class="k">def</span> <span class="nf">get_server_schema</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get server schema with info, url paths, components etc.</span>

<span class="sd">    Todos:</span>
<span class="sd">        Cache schema - How to find out it is outdated?</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict[str, Any]: Full server schema.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_server_schema</span><span class="p">()</span></div>


<div class="viewcode-block" id="get_schemas"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_schemas">[docs]</a><span class="k">def</span> <span class="nf">get_schemas</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get components schema.</span>

<span class="sd">    Name of components does not match entity type names e.g. &#39;project&#39; is</span>
<span class="sd">    under &#39;ProjectModel&#39;. We should find out some mapping. Also, there</span>
<span class="sd">    are properties which don&#39;t have information about reference to object</span>
<span class="sd">    e.g. &#39;config&#39; has just object definition without reference schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict[str, Any]: Component schemas.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_schemas</span><span class="p">()</span></div>


<div class="viewcode-block" id="get_attributes_schema"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_attributes_schema">[docs]</a><span class="k">def</span> <span class="nf">get_attributes_schema</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_attributes_schema</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="reset_attributes_schema"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.reset_attributes_schema">[docs]</a><span class="k">def</span> <span class="nf">reset_attributes_schema</span><span class="p">():</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">reset_attributes_schema</span><span class="p">()</span></div>


<div class="viewcode-block" id="set_attribute_config"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.set_attribute_config">[docs]</a><span class="k">def</span> <span class="nf">set_attribute_config</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">set_attribute_config</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="remove_attribute_config"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.remove_attribute_config">[docs]</a><span class="k">def</span> <span class="nf">remove_attribute_config</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Remove attribute from server.</span>

<span class="sd">    This can&#39;t be un-done, please use carefully.</span>

<span class="sd">    Args:</span>
<span class="sd">        attribute_name (str): Name of attribute to remove.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">remove_attribute_config</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_attributes_for_type"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_attributes_for_type">[docs]</a><span class="k">def</span> <span class="nf">get_attributes_for_type</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get attribute schemas available for an entity type.</span>

<span class="sd">    Example::</span>

<span class="sd">        ```</span>
<span class="sd">        # Example attribute schema</span>
<span class="sd">        {</span>
<span class="sd">            # Common</span>
<span class="sd">            &quot;type&quot;: &quot;integer&quot;,</span>
<span class="sd">            &quot;title&quot;: &quot;Clip Out&quot;,</span>
<span class="sd">            &quot;description&quot;: null,</span>
<span class="sd">            &quot;example&quot;: 1,</span>
<span class="sd">            &quot;default&quot;: 1,</span>
<span class="sd">            # These can be filled based on value of &#39;type&#39;</span>
<span class="sd">            &quot;gt&quot;: null,</span>
<span class="sd">            &quot;ge&quot;: null,</span>
<span class="sd">            &quot;lt&quot;: null,</span>
<span class="sd">            &quot;le&quot;: null,</span>
<span class="sd">            &quot;minLength&quot;: null,</span>
<span class="sd">            &quot;maxLength&quot;: null,</span>
<span class="sd">            &quot;minItems&quot;: null,</span>
<span class="sd">            &quot;maxItems&quot;: null,</span>
<span class="sd">            &quot;regex&quot;: null,</span>
<span class="sd">            &quot;enum&quot;: null</span>
<span class="sd">        }</span>
<span class="sd">        ```</span>

<span class="sd">    Args:</span>
<span class="sd">        entity_type (str): Entity type for which should be attributes</span>
<span class="sd">            received.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict[str, dict[str, Any]]: Attribute schemas that are available</span>
<span class="sd">            for entered entity type.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_attributes_for_type</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_attributes_fields_for_type"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_attributes_fields_for_type">[docs]</a><span class="k">def</span> <span class="nf">get_attributes_fields_for_type</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Prepare attribute fields for entity type.</span>

<span class="sd">    Returns:</span>
<span class="sd">        set[str]: Attributes fields for entity type.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_attributes_fields_for_type</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_default_fields_for_type"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_default_fields_for_type">[docs]</a><span class="k">def</span> <span class="nf">get_default_fields_for_type</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Default fields for entity type.</span>

<span class="sd">    Returns most of commonly used fields from server.</span>

<span class="sd">    Args:</span>
<span class="sd">        entity_type (str): Name of entity type.</span>

<span class="sd">    Returns:</span>
<span class="sd">        set[str]: Fields that should be queried from server.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_default_fields_for_type</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_addons_info"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_addons_info">[docs]</a><span class="k">def</span> <span class="nf">get_addons_info</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get information about addons available on server.</span>

<span class="sd">    Args:</span>
<span class="sd">        details (Optional[bool]): Detailed data with information how</span>
<span class="sd">            to get client code.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_addons_info</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_addon_url"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_addon_url">[docs]</a><span class="k">def</span> <span class="nf">get_addon_url</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Calculate url to addon route.</span>

<span class="sd">    Examples:</span>

<span class="sd">        &gt;&gt;&gt; api = ServerAPI(&quot;https://your.url.com&quot;)</span>
<span class="sd">        &gt;&gt;&gt; api.get_addon_url(</span>
<span class="sd">        ...     &quot;example&quot;, &quot;1.0.0&quot;, &quot;private&quot;, &quot;my.zip&quot;)</span>
<span class="sd">        &#39;https://your.url.com/addons/example/1.0.0/private/my.zip&#39;</span>

<span class="sd">    Args:</span>
<span class="sd">        addon_name (str): Name of addon.</span>
<span class="sd">        addon_version (str): Version of addon.</span>
<span class="sd">        *subpaths (str): Any amount of subpaths that are added to</span>
<span class="sd">            addon url.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: Final url.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_addon_url</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="download_addon_private_file"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.download_addon_private_file">[docs]</a><span class="k">def</span> <span class="nf">download_addon_private_file</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Download a file from addon private files.</span>

<span class="sd">    This method requires to have authorized token available. Private files</span>
<span class="sd">    are not under &#39;/api&#39; restpoint.</span>

<span class="sd">    Args:</span>
<span class="sd">        addon_name (str): Addon name.</span>
<span class="sd">        addon_version (str): Addon version.</span>
<span class="sd">        filename (str): Filename in private folder on server.</span>
<span class="sd">        destination_dir (str): Where the file should be downloaded.</span>
<span class="sd">        destination_filename (Optional[str]): Name of destination</span>
<span class="sd">            filename. Source filename is used if not passed.</span>
<span class="sd">        chunk_size (Optional[int]): Download chunk size.</span>
<span class="sd">        progress (Optional[TransferProgress]): Object that gives ability</span>
<span class="sd">            to track download progress.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: Filepath to downloaded file.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">download_addon_private_file</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_installers"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_installers">[docs]</a><span class="k">def</span> <span class="nf">get_installers</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Information about desktop application installers on server.</span>

<span class="sd">    Desktop application installers are helpers to download/update AYON</span>
<span class="sd">    desktop application for artists.</span>

<span class="sd">    Args:</span>
<span class="sd">        version (Optional[str]): Filter installers by version.</span>
<span class="sd">        platform_name (Optional[str]): Filter installers by platform name.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[dict[str, Any]]:</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_installers</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="create_installer"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.create_installer">[docs]</a><span class="k">def</span> <span class="nf">create_installer</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create new installer information on server.</span>

<span class="sd">    This step will create only metadata. Make sure to upload installer</span>
<span class="sd">        to the server using &#39;upload_installer&#39; method.</span>

<span class="sd">    Runtime python modules are modules that are required to run AYON</span>
<span class="sd">        desktop application, but are not added to PYTHONPATH for any</span>
<span class="sd">        subprocess.</span>

<span class="sd">    Args:</span>
<span class="sd">        filename (str): Installer filename.</span>
<span class="sd">        version (str): Version of installer.</span>
<span class="sd">        python_version (str): Version of Python.</span>
<span class="sd">        platform_name (str): Name of platform.</span>
<span class="sd">        python_modules (dict[str, str]): Python modules that are available</span>
<span class="sd">            in installer.</span>
<span class="sd">        runtime_python_modules (dict[str, str]): Runtime python modules</span>
<span class="sd">            that are available in installer.</span>
<span class="sd">        checksum (str): Installer file checksum.</span>
<span class="sd">        checksum_algorithm (str): Type of checksum used to create checksum.</span>
<span class="sd">        file_size (int): File size.</span>
<span class="sd">        sources (Optional[list[dict[str, Any]]]): List of sources that</span>
<span class="sd">            can be used to download file.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">create_installer</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="update_installer"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.update_installer">[docs]</a><span class="k">def</span> <span class="nf">update_installer</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update installer information on server.</span>

<span class="sd">    Args:</span>
<span class="sd">        filename (str): Installer filename.</span>
<span class="sd">        sources (list[dict[str, Any]]): List of sources that</span>
<span class="sd">            can be used to download file. Fully replaces existing sources.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">update_installer</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="delete_installer"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.delete_installer">[docs]</a><span class="k">def</span> <span class="nf">delete_installer</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete installer from server.</span>

<span class="sd">    Args:</span>
<span class="sd">        filename (str): Installer filename.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">delete_installer</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="download_installer"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.download_installer">[docs]</a><span class="k">def</span> <span class="nf">download_installer</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Download installer file from server.</span>

<span class="sd">    Args:</span>
<span class="sd">        filename (str): Installer filename.</span>
<span class="sd">        dst_filepath (str): Destination filepath.</span>
<span class="sd">        chunk_size (Optional[int]): Download chunk size.</span>
<span class="sd">        progress (Optional[TransferProgress]): Object that gives ability</span>
<span class="sd">            to track download progress.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">download_installer</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="upload_installer"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.upload_installer">[docs]</a><span class="k">def</span> <span class="nf">upload_installer</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Upload installer file to server.</span>

<span class="sd">    Args:</span>
<span class="sd">        src_filepath (str): Source filepath.</span>
<span class="sd">        dst_filename (str): Destination filename.</span>
<span class="sd">        progress (Optional[TransferProgress]): Object that gives ability</span>
<span class="sd">            to track download progress.</span>

<span class="sd">    Returns:</span>
<span class="sd">        requests.Response: Response object.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">upload_installer</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_dependency_packages"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_dependency_packages">[docs]</a><span class="k">def</span> <span class="nf">get_dependency_packages</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Information about dependency packages on server.</span>

<span class="sd">    To download dependency package, use &#39;download_dependency_package&#39;</span>
<span class="sd">    method and pass in &#39;filename&#39;.</span>

<span class="sd">    Example data structure::</span>

<span class="sd">        {</span>
<span class="sd">            &quot;packages&quot;: [</span>
<span class="sd">                {</span>
<span class="sd">                    &quot;filename&quot;: str,</span>
<span class="sd">                    &quot;platform&quot;: str,</span>
<span class="sd">                    &quot;checksum&quot;: str,</span>
<span class="sd">                    &quot;checksumAlgorithm&quot;: str,</span>
<span class="sd">                    &quot;size&quot;: int,</span>
<span class="sd">                    &quot;sources&quot;: list[dict[str, Any]],</span>
<span class="sd">                    &quot;supportedAddons&quot;: dict[str, str],</span>
<span class="sd">                    &quot;pythonModules&quot;: dict[str, str]</span>
<span class="sd">                }</span>
<span class="sd">            ]</span>
<span class="sd">        }</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict[str, Any]: Information about dependency packages known for</span>
<span class="sd">            server.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_dependency_packages</span><span class="p">()</span></div>


<div class="viewcode-block" id="create_dependency_package"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.create_dependency_package">[docs]</a><span class="k">def</span> <span class="nf">create_dependency_package</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create dependency package on server.</span>

<span class="sd">    The package will be created on a server, it is also required to upload</span>
<span class="sd">    the package archive file (using :meth:`upload_dependency_package`).</span>

<span class="sd">    Args:</span>
<span class="sd">        filename (str): Filename of dependency package.</span>
<span class="sd">        python_modules (dict[str, str]): Python modules in dependency</span>
<span class="sd">            package::</span>

<span class="sd">                {&quot;&lt;module name&gt;&quot;: &quot;&lt;module version&gt;&quot;, ...}</span>

<span class="sd">        source_addons (dict[str, str]): Name of addons for which is</span>
<span class="sd">            dependency package created::</span>

<span class="sd">                {&quot;&lt;addon name&gt;&quot;: &quot;&lt;addon version&gt;&quot;, ...}</span>

<span class="sd">        installer_version (str): Version of installer for which was</span>
<span class="sd">            package created.</span>
<span class="sd">        checksum (str): Checksum of archive file where dependencies are.</span>
<span class="sd">        checksum_algorithm (str): Algorithm used to calculate checksum.</span>
<span class="sd">        file_size (Optional[int]): Size of file.</span>
<span class="sd">        sources (Optional[list[dict[str, Any]]]): Information about</span>
<span class="sd">            sources from where it is possible to get file.</span>
<span class="sd">        platform_name (Optional[str]): Name of platform for which is</span>
<span class="sd">            dependency package targeted. Default value is</span>
<span class="sd">            current platform.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">create_dependency_package</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="update_dependency_package"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.update_dependency_package">[docs]</a><span class="k">def</span> <span class="nf">update_dependency_package</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update dependency package metadata on server.</span>

<span class="sd">    Args:</span>
<span class="sd">        filename (str): Filename of dependency package.</span>
<span class="sd">        sources (list[dict[str, Any]]): Information about</span>
<span class="sd">            sources from where it is possible to get file. Fully replaces</span>
<span class="sd">            existing sources.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">update_dependency_package</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="delete_dependency_package"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.delete_dependency_package">[docs]</a><span class="k">def</span> <span class="nf">delete_dependency_package</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Remove dependency package for specific platform.</span>

<span class="sd">    Args:</span>
<span class="sd">        filename (str): Filename of dependency package.</span>
<span class="sd">        platform_name (Optional[str]): Deprecated.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">delete_dependency_package</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="download_dependency_package"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.download_dependency_package">[docs]</a><span class="k">def</span> <span class="nf">download_dependency_package</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Download dependency package from server.</span>

<span class="sd">    This method requires to have authorized token available. The package</span>
<span class="sd">    is only downloaded.</span>

<span class="sd">    Args:</span>
<span class="sd">        src_filename (str): Filename of dependency pacakge.</span>
<span class="sd">            For server version 0.2.0 and lower it is name of package</span>
<span class="sd">            to download.</span>
<span class="sd">        dst_directory (str): Where the file should be downloaded.</span>
<span class="sd">        dst_filename (str): Name of destination filename.</span>
<span class="sd">        platform_name (Optional[str]): Deprecated.</span>
<span class="sd">        chunk_size (Optional[int]): Download chunk size.</span>
<span class="sd">        progress (Optional[TransferProgress]): Object that gives ability</span>
<span class="sd">            to track download progress.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: Filepath to downloaded file.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">download_dependency_package</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="upload_dependency_package"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.upload_dependency_package">[docs]</a><span class="k">def</span> <span class="nf">upload_dependency_package</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Upload dependency package to server.</span>

<span class="sd">    Args:</span>
<span class="sd">        src_filepath (str): Path to a package file.</span>
<span class="sd">        dst_filename (str): Dependency package filename or name of package</span>
<span class="sd">            for server version 0.2.0 or lower. Must be unique.</span>
<span class="sd">        platform_name (Optional[str]): Deprecated.</span>
<span class="sd">        progress (Optional[TransferProgress]): Object to keep track about</span>
<span class="sd">            upload state.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">upload_dependency_package</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="upload_addon_zip"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.upload_addon_zip">[docs]</a><span class="k">def</span> <span class="nf">upload_addon_zip</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Upload addon zip file to server.</span>

<span class="sd">    File is validated on server. If it is valid, it is installed. It will</span>
<span class="sd">        create an event job which can be tracked (tracking part is not</span>
<span class="sd">        implemented yet).</span>

<span class="sd">    Example output::</span>

<span class="sd">        {&#39;eventId&#39;: &#39;a1bfbdee27c611eea7580242ac120003&#39;}</span>

<span class="sd">    Args:</span>
<span class="sd">        src_filepath (str): Path to a zip file.</span>
<span class="sd">        progress (Optional[TransferProgress]): Object to keep track about</span>
<span class="sd">            upload state.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict[str, Any]: Response data from server.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">upload_addon_zip</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_bundles"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_bundles">[docs]</a><span class="k">def</span> <span class="nf">get_bundles</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Server bundles with basic information.</span>

<span class="sd">    This is example output::</span>

<span class="sd">        {</span>
<span class="sd">            &quot;bundles&quot;: [</span>
<span class="sd">                {</span>
<span class="sd">                    &quot;name&quot;: &quot;my_bundle&quot;,</span>
<span class="sd">                    &quot;createdAt&quot;: &quot;2023-06-12T15:37:02.420260&quot;,</span>
<span class="sd">                    &quot;installerVersion&quot;: &quot;1.0.0&quot;,</span>
<span class="sd">                    &quot;addons&quot;: {</span>
<span class="sd">                        &quot;core&quot;: &quot;1.2.3&quot;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;dependencyPackages&quot;: {</span>
<span class="sd">                        &quot;windows&quot;: &quot;a_windows_package123.zip&quot;,</span>
<span class="sd">                        &quot;linux&quot;: &quot;a_linux_package123.zip&quot;,</span>
<span class="sd">                        &quot;darwin&quot;: &quot;a_mac_package123.zip&quot;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;isProduction&quot;: False,</span>
<span class="sd">                    &quot;isStaging&quot;: False</span>
<span class="sd">                }</span>
<span class="sd">            ],</span>
<span class="sd">            &quot;productionBundle&quot;: &quot;my_bundle&quot;,</span>
<span class="sd">            &quot;stagingBundle&quot;: &quot;test_bundle&quot;</span>
<span class="sd">        }</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict[str, Any]: Server bundles with basic information.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_bundles</span><span class="p">()</span></div>


<div class="viewcode-block" id="create_bundle"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.create_bundle">[docs]</a><span class="k">def</span> <span class="nf">create_bundle</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create bundle on server.</span>

<span class="sd">    Bundle cannot be changed once is created. Only isProduction, isStaging</span>
<span class="sd">    and dependency packages can change after creation.</span>

<span class="sd">    Args:</span>
<span class="sd">        name (str): Name of bundle.</span>
<span class="sd">        addon_versions (dict[str, str]): Addon versions.</span>
<span class="sd">        installer_version (Union[str, None]): Installer version.</span>
<span class="sd">        dependency_packages (Optional[dict[str, str]]): Dependency</span>
<span class="sd">            package names. Keys are platform names and values are name of</span>
<span class="sd">            packages.</span>
<span class="sd">        is_production (Optional[bool]): Bundle will be marked as</span>
<span class="sd">            production.</span>
<span class="sd">        is_staging (Optional[bool]): Bundle will be marked as staging.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">create_bundle</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="update_bundle"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.update_bundle">[docs]</a><span class="k">def</span> <span class="nf">update_bundle</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update bundle on server.</span>

<span class="sd">    Dependency packages can be update only for single platform. Others</span>
<span class="sd">    will be left untouched. Use &#39;None&#39; value to unset dependency package</span>
<span class="sd">    from bundle.</span>

<span class="sd">    Args:</span>
<span class="sd">        bundle_name (str): Name of bundle.</span>
<span class="sd">        dependency_packages (Optional[dict[str, str]]): Dependency pacakge</span>
<span class="sd">            names that should be used with the bundle.</span>
<span class="sd">        is_production (Optional[bool]): Bundle will be marked as</span>
<span class="sd">            production.</span>
<span class="sd">        is_staging (Optional[bool]): Bundle will be marked as staging.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">update_bundle</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="delete_bundle"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.delete_bundle">[docs]</a><span class="k">def</span> <span class="nf">delete_bundle</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete bundle from server.</span>

<span class="sd">    Args:</span>
<span class="sd">        bundle_name (str): Name of bundle to delete.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">delete_bundle</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_project_anatomy_presets"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_project_anatomy_presets">[docs]</a><span class="k">def</span> <span class="nf">get_project_anatomy_presets</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Anatomy presets available on server.</span>

<span class="sd">    Content has basic information about presets. Example output::</span>

<span class="sd">        [</span>
<span class="sd">            {</span>
<span class="sd">                &quot;name&quot;: &quot;netflix_VFX&quot;,</span>
<span class="sd">                &quot;primary&quot;: false,</span>
<span class="sd">                &quot;version&quot;: &quot;1.0.0&quot;</span>
<span class="sd">            },</span>
<span class="sd">            {</span>
<span class="sd">                ...</span>
<span class="sd">            },</span>
<span class="sd">            ...</span>
<span class="sd">        ]</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[dict[str, str]]: Anatomy presets available on server.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_project_anatomy_presets</span><span class="p">()</span></div>


<div class="viewcode-block" id="get_default_anatomy_preset_name"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_default_anatomy_preset_name">[docs]</a><span class="k">def</span> <span class="nf">get_default_anatomy_preset_name</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Name of default anatomy preset.</span>

<span class="sd">    Primary preset is used as default preset. But when primary preset is</span>
<span class="sd">    not set a built-in is used instead. Built-in preset is named &#39;_&#39;.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: Name of preset that can be used by</span>
<span class="sd">            &#39;get_project_anatomy_preset&#39;.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_default_anatomy_preset_name</span><span class="p">()</span></div>


<div class="viewcode-block" id="get_project_anatomy_preset"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_project_anatomy_preset">[docs]</a><span class="k">def</span> <span class="nf">get_project_anatomy_preset</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Anatomy preset values by name.</span>

<span class="sd">    Get anatomy preset values by preset name. Primary preset is returned</span>
<span class="sd">    if preset name is set to &#39;None&#39;.</span>

<span class="sd">    Args:</span>
<span class="sd">        preset_name (Optional[str]): Preset name.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict[str, Any]: Anatomy preset values.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_project_anatomy_preset</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_build_in_anatomy_preset"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_build_in_anatomy_preset">[docs]</a><span class="k">def</span> <span class="nf">get_build_in_anatomy_preset</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get built-in anatomy preset.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict[str, Any]: Built-in anatomy preset.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_build_in_anatomy_preset</span><span class="p">()</span></div>


<div class="viewcode-block" id="get_project_root_overrides"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_project_root_overrides">[docs]</a><span class="k">def</span> <span class="nf">get_project_root_overrides</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Root overrides per site name.</span>

<span class="sd">    Method is based on logged user and can&#39;t be received for any other</span>
<span class="sd">        user on server.</span>

<span class="sd">    Output will contain only roots per site id used by logged user.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Name of project.</span>

<span class="sd">    Returns:</span>
<span class="sd">         dict[str, dict[str, str]]: Root values by root name by site id.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_project_root_overrides</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_project_roots_by_site"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_project_roots_by_site">[docs]</a><span class="k">def</span> <span class="nf">get_project_roots_by_site</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Root overrides per site name.</span>

<span class="sd">    Method is based on logged user and can&#39;t be received for any other</span>
<span class="sd">    user on server.</span>

<span class="sd">    Output will contain only roots per site id used by logged user.</span>

<span class="sd">    Deprecated:</span>
<span class="sd">        Use &#39;get_project_root_overrides&#39; instead. Function</span>
<span class="sd">            deprecated since 1.0.6</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Name of project.</span>

<span class="sd">    Returns:</span>
<span class="sd">         dict[str, dict[str, str]]: Root values by root name by site id.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_project_roots_by_site</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_project_root_overrides_by_site_id"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_project_root_overrides_by_site_id">[docs]</a><span class="k">def</span> <span class="nf">get_project_root_overrides_by_site_id</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Root overrides for site.</span>

<span class="sd">    If site id is not passed a site set in current api object is used</span>
<span class="sd">    instead.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Name of project.</span>
<span class="sd">        site_id (Optional[str]): Site id for which want to receive</span>
<span class="sd">            site overrides.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict[str, str]: Root values by root name or None if</span>
<span class="sd">            site does not have overrides.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_project_root_overrides_by_site_id</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_project_roots_for_site"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_project_roots_for_site">[docs]</a><span class="k">def</span> <span class="nf">get_project_roots_for_site</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Root overrides for site.</span>

<span class="sd">    If site id is not passed a site set in current api object is used</span>
<span class="sd">    instead.</span>

<span class="sd">    Deprecated:</span>
<span class="sd">        Use &#39;get_project_root_overrides_by_site_id&#39; instead. Function</span>
<span class="sd">            deprecated since 1.0.6</span>
<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Name of project.</span>
<span class="sd">        site_id (Optional[str]): Site id for which want to receive</span>
<span class="sd">            site overrides.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict[str, str]: Root values by root name, root name is not</span>
<span class="sd">            available if it does not have overrides.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_project_roots_for_site</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_project_roots_by_site_id"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_project_roots_by_site_id">[docs]</a><span class="k">def</span> <span class="nf">get_project_roots_by_site_id</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Root values for a site.</span>

<span class="sd">    If site id is not passed a site set in current api object is used</span>
<span class="sd">    instead. If site id is not available, default roots are returned</span>
<span class="sd">    for current platform.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Name of project.</span>
<span class="sd">        site_id (Optional[str]): Site id for which want to receive</span>
<span class="sd">            root values.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict[str, str]: Root values.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_project_roots_by_site_id</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_project_roots_by_platform"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_project_roots_by_platform">[docs]</a><span class="k">def</span> <span class="nf">get_project_roots_by_platform</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Root values for a site.</span>

<span class="sd">    If platform name is not passed current platform name is used instead.</span>

<span class="sd">    This function does return root values without site overrides. It is</span>
<span class="sd">        possible to use the function to receive default root values.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Name of project.</span>
<span class="sd">        platform_name (Optional[Literal[&quot;windows&quot;, &quot;linux&quot;, &quot;darwin&quot;]]):</span>
<span class="sd">            Platform name for which want to receive root values. Current</span>
<span class="sd">            platform name is used if not passed.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict[str, str]: Root values.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_project_roots_by_platform</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_addon_settings_schema"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_addon_settings_schema">[docs]</a><span class="k">def</span> <span class="nf">get_addon_settings_schema</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sudio/Project settings schema of an addon.</span>

<span class="sd">    Project schema may look differently as some enums are based on project</span>
<span class="sd">    values.</span>

<span class="sd">    Args:</span>
<span class="sd">        addon_name (str): Name of addon.</span>
<span class="sd">        addon_version (str): Version of addon.</span>
<span class="sd">        project_name (Optional[str]): Schema for specific project or</span>
<span class="sd">            default studio schemas.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict[str, Any]: Schema of studio/project settings.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_addon_settings_schema</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_addon_site_settings_schema"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_addon_site_settings_schema">[docs]</a><span class="k">def</span> <span class="nf">get_addon_site_settings_schema</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Site settings schema of an addon.</span>

<span class="sd">    Args:</span>
<span class="sd">        addon_name (str): Name of addon.</span>
<span class="sd">        addon_version (str): Version of addon.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict[str, Any]: Schema of site settings.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_addon_site_settings_schema</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_addon_studio_settings"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_addon_studio_settings">[docs]</a><span class="k">def</span> <span class="nf">get_addon_studio_settings</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Addon studio settings.</span>

<span class="sd">    Receive studio settings for specific version of an addon.</span>

<span class="sd">    Args:</span>
<span class="sd">        addon_name (str): Name of addon.</span>
<span class="sd">        addon_version (str): Version of addon.</span>
<span class="sd">        variant (Optional[Literal[&#39;production&#39;, &#39;staging&#39;]]): Name of</span>
<span class="sd">            settings variant. Used &#39;default_settings_variant&#39; by default.</span>

<span class="sd">    Returns:</span>
<span class="sd">       dict[str, Any]: Addon settings.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_addon_studio_settings</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_addon_project_settings"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_addon_project_settings">[docs]</a><span class="k">def</span> <span class="nf">get_addon_project_settings</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Addon project settings.</span>

<span class="sd">    Receive project settings for specific version of an addon. The settings</span>
<span class="sd">    may be with site overrides when enabled.</span>

<span class="sd">    Site id is filled with current connection site id if not passed. To</span>
<span class="sd">    make sure any site id is used set &#39;use_site&#39; to &#39;False&#39;.</span>

<span class="sd">    Args:</span>
<span class="sd">        addon_name (str): Name of addon.</span>
<span class="sd">        addon_version (str): Version of addon.</span>
<span class="sd">        project_name (str): Name of project for which the settings are</span>
<span class="sd">            received.</span>
<span class="sd">        variant (Optional[Literal[&#39;production&#39;, &#39;staging&#39;]]): Name of</span>
<span class="sd">            settings variant. Used &#39;default_settings_variant&#39; by default.</span>
<span class="sd">        site_id (Optional[str]): Name of site which is used for site</span>
<span class="sd">            overrides. Is filled with connection &#39;site_id&#39; attribute</span>
<span class="sd">            if not passed.</span>
<span class="sd">        use_site (Optional[bool]): To force disable option of using site</span>
<span class="sd">            overrides set to &#39;False&#39;. In that case won&#39;t be applied</span>
<span class="sd">            any site overrides.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict[str, Any]: Addon settings.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_addon_project_settings</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_addon_settings"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_addon_settings">[docs]</a><span class="k">def</span> <span class="nf">get_addon_settings</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Receive addon settings.</span>

<span class="sd">    Receive addon settings based on project name value. Some arguments may</span>
<span class="sd">    be ignored if &#39;project_name&#39; is set to &#39;None&#39;.</span>

<span class="sd">    Args:</span>
<span class="sd">        addon_name (str): Name of addon.</span>
<span class="sd">        addon_version (str): Version of addon.</span>
<span class="sd">        project_name (Optional[str]): Name of project for which the</span>
<span class="sd">            settings are received. A studio settings values are received</span>
<span class="sd">            if is &#39;None&#39;.</span>
<span class="sd">        variant (Optional[Literal[&#39;production&#39;, &#39;staging&#39;]]): Name of</span>
<span class="sd">            settings variant. Used &#39;default_settings_variant&#39; by default.</span>
<span class="sd">        site_id (Optional[str]): Name of site which is used for site</span>
<span class="sd">            overrides. Is filled with connection &#39;site_id&#39; attribute</span>
<span class="sd">            if not passed.</span>
<span class="sd">        use_site (Optional[bool]): To force disable option of using</span>
<span class="sd">            site overrides set to &#39;False&#39;. In that case won&#39;t be applied</span>
<span class="sd">            any site overrides.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict[str, Any]: Addon settings.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_addon_settings</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_addon_site_settings"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_addon_site_settings">[docs]</a><span class="k">def</span> <span class="nf">get_addon_site_settings</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Site settings of an addon.</span>

<span class="sd">    If site id is not available an empty dictionary is returned.</span>

<span class="sd">    Args:</span>
<span class="sd">        addon_name (str): Name of addon.</span>
<span class="sd">        addon_version (str): Version of addon.</span>
<span class="sd">        site_id (Optional[str]): Name of site for which should be settings</span>
<span class="sd">            returned. using &#39;site_id&#39; attribute if not passed.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict[str, Any]: Site settings.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_addon_site_settings</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_bundle_settings"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_bundle_settings">[docs]</a><span class="k">def</span> <span class="nf">get_bundle_settings</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get complete set of settings for given data.</span>

<span class="sd">    If project is not passed then studio settings are returned. If variant</span>
<span class="sd">    is not passed &#39;default_settings_variant&#39; is used. If bundle name is</span>
<span class="sd">    not passed then current production/staging bundle is used, based on</span>
<span class="sd">    variant value.</span>

<span class="sd">    Output contains addon settings and site settings in single dictionary.</span>

<span class="sd">    Todos:</span>
<span class="sd">        - test how it behaves if there is not any bundle.</span>
<span class="sd">        - test how it behaves if there is not any production/staging</span>
<span class="sd">            bundle.</span>

<span class="sd">    Example output::</span>

<span class="sd">        {</span>
<span class="sd">            &quot;addons&quot;: [</span>
<span class="sd">                {</span>
<span class="sd">                    &quot;name&quot;: &quot;addon-name&quot;,</span>
<span class="sd">                    &quot;version&quot;: &quot;addon-version&quot;,</span>
<span class="sd">                    &quot;settings&quot;: {...},</span>
<span class="sd">                    &quot;siteSettings&quot;: {...}</span>
<span class="sd">                }</span>
<span class="sd">            ]</span>
<span class="sd">        }</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict[str, Any]: All settings for single bundle.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_bundle_settings</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_addons_studio_settings"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_addons_studio_settings">[docs]</a><span class="k">def</span> <span class="nf">get_addons_studio_settings</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;All addons settings in one bulk.</span>

<span class="sd">    Warnings:</span>
<span class="sd">        Behavior of this function changed with AYON server version 0.3.0.</span>
<span class="sd">            Structure of output from server changed. If using</span>
<span class="sd">            &#39;only_values=True&#39; then output should be same as before.</span>

<span class="sd">    Args:</span>
<span class="sd">        bundle_name (Optional[str]): Name of bundle for which should be</span>
<span class="sd">            settings received.</span>
<span class="sd">        variant (Optional[Literal[&#39;production&#39;, &#39;staging&#39;]]): Name of</span>
<span class="sd">            settings variant. Used &#39;default_settings_variant&#39; by default.</span>
<span class="sd">        site_id (Optional[str]): Site id for which want to receive</span>
<span class="sd">            site overrides.</span>
<span class="sd">        use_site (bool): To force disable option of using site overrides</span>
<span class="sd">            set to &#39;False&#39;. In that case won&#39;t be applied any site</span>
<span class="sd">            overrides.</span>
<span class="sd">        only_values (Optional[bool]): Output will contain only settings</span>
<span class="sd">            values without metadata about addons.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict[str, Any]: Settings of all addons on server.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_addons_studio_settings</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_addons_project_settings"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_addons_project_settings">[docs]</a><span class="k">def</span> <span class="nf">get_addons_project_settings</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Project settings of all addons.</span>

<span class="sd">    Server returns information about used addon versions, so full output</span>
<span class="sd">    looks like:</span>

<span class="sd">    ```json</span>
<span class="sd">        {</span>
<span class="sd">            &quot;settings&quot;: {...},</span>
<span class="sd">            &quot;addons&quot;: {...}</span>
<span class="sd">        }</span>
<span class="sd">    ```</span>

<span class="sd">    The output can be limited to only values. To do so is &#39;only_values&#39;</span>
<span class="sd">    argument which is by default set to &#39;True&#39;. In that case output</span>
<span class="sd">    contains only value of &#39;settings&#39; key.</span>

<span class="sd">    Warnings:</span>
<span class="sd">        Behavior of this function changed with AYON server version 0.3.0.</span>
<span class="sd">            Structure of output from server changed. If using</span>
<span class="sd">            &#39;only_values=True&#39; then output should be same as before.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Name of project for which are settings</span>
<span class="sd">            received.</span>
<span class="sd">        bundle_name (Optional[str]): Name of bundle for which should be</span>
<span class="sd">            settings received.</span>
<span class="sd">        variant (Optional[Literal[&#39;production&#39;, &#39;staging&#39;]]): Name of</span>
<span class="sd">            settings variant. Used &#39;default_settings_variant&#39; by default.</span>
<span class="sd">        site_id (Optional[str]): Site id for which want to receive</span>
<span class="sd">            site overrides.</span>
<span class="sd">        use_site (bool): To force disable option of using site overrides</span>
<span class="sd">            set to &#39;False&#39;. In that case won&#39;t be applied any site</span>
<span class="sd">            overrides.</span>
<span class="sd">        only_values (Optional[bool]): Output will contain only settings</span>
<span class="sd">            values without metadata about addons.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict[str, Any]: Settings of all addons on server for passed</span>
<span class="sd">            project.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_addons_project_settings</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_addons_settings"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_addons_settings">[docs]</a><span class="k">def</span> <span class="nf">get_addons_settings</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Universal function to receive all addon settings.</span>

<span class="sd">    Based on &#39;project_name&#39; will receive studio settings or project</span>
<span class="sd">    settings. In case project is not passed is &#39;site_id&#39; ignored.</span>

<span class="sd">    Warnings:</span>
<span class="sd">        Behavior of this function changed with AYON server version 0.3.0.</span>
<span class="sd">            Structure of output from server changed. If using</span>
<span class="sd">            &#39;only_values=True&#39; then output should be same as before.</span>

<span class="sd">    Args:</span>
<span class="sd">        bundle_name (Optional[str]): Name of bundle for which should be</span>
<span class="sd">            settings received.</span>
<span class="sd">        project_name (Optional[str]): Name of project for which should be</span>
<span class="sd">            settings received.</span>
<span class="sd">        variant (Optional[Literal[&#39;production&#39;, &#39;staging&#39;]]): Name of</span>
<span class="sd">            settings variant. Used &#39;default_settings_variant&#39; by default.</span>
<span class="sd">        site_id (Optional[str]): Id of site for which want to receive</span>
<span class="sd">            site overrides.</span>
<span class="sd">        use_site (Optional[bool]): To force disable option of using site</span>
<span class="sd">            overrides set to &#39;False&#39;. In that case won&#39;t be applied</span>
<span class="sd">            any site overrides.</span>
<span class="sd">        only_values (Optional[bool]): Only settings values will be</span>
<span class="sd">            returned. By default, is set to &#39;True&#39;.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_addons_settings</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_secrets"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_secrets">[docs]</a><span class="k">def</span> <span class="nf">get_secrets</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get all secrets.</span>

<span class="sd">    Example output::</span>

<span class="sd">        [</span>
<span class="sd">            {</span>
<span class="sd">                &quot;name&quot;: &quot;secret_1&quot;,</span>
<span class="sd">                &quot;value&quot;: &quot;secret_value_1&quot;,</span>
<span class="sd">            },</span>
<span class="sd">            {</span>
<span class="sd">                &quot;name&quot;: &quot;secret_2&quot;,</span>
<span class="sd">                &quot;value&quot;: &quot;secret_value_2&quot;,</span>
<span class="sd">            }</span>
<span class="sd">        ]</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[dict[str, str]]: List of secret entities.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_secrets</span><span class="p">()</span></div>


<div class="viewcode-block" id="get_secret"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_secret">[docs]</a><span class="k">def</span> <span class="nf">get_secret</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get secret by name.</span>

<span class="sd">    Example output::</span>

<span class="sd">        {</span>
<span class="sd">            &quot;name&quot;: &quot;secret_name&quot;,</span>
<span class="sd">            &quot;value&quot;: &quot;secret_value&quot;,</span>
<span class="sd">        }</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_name (str): Name of secret.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict[str, str]: Secret entity data.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_secret</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="save_secret"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.save_secret">[docs]</a><span class="k">def</span> <span class="nf">save_secret</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Save secret.</span>

<span class="sd">    This endpoint can create and update secret.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_name (str): Name of secret.</span>
<span class="sd">        secret_value (str): Value of secret.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">save_secret</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="delete_secret"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.delete_secret">[docs]</a><span class="k">def</span> <span class="nf">delete_secret</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete secret by name.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_name (str): Name of secret to delete.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">delete_secret</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_rest_project"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_rest_project">[docs]</a><span class="k">def</span> <span class="nf">get_rest_project</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Query project by name.</span>

<span class="sd">    This call returns project with anatomy data.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Name of project.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Union[dict[str, Any], None]: Project entity data or &#39;None&#39; if</span>
<span class="sd">            project was not found.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_rest_project</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_rest_projects"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_rest_projects">[docs]</a><span class="k">def</span> <span class="nf">get_rest_projects</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Query available project entities.</span>

<span class="sd">    User must be logged in.</span>

<span class="sd">    Args:</span>
<span class="sd">        active (Optional[bool]): Filter active/inactive projects. Both</span>
<span class="sd">            are returned if &#39;None&#39; is passed.</span>
<span class="sd">        library (Optional[bool]): Filter standard/library projects. Both</span>
<span class="sd">            are returned if &#39;None&#39; is passed.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Generator[dict[str, Any]]: Available projects.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_rest_projects</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_rest_entity_by_id"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_rest_entity_by_id">[docs]</a><span class="k">def</span> <span class="nf">get_rest_entity_by_id</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get entity using REST on a project by its id.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Name of project where entity is.</span>
<span class="sd">        entity_type (Literal[&quot;folder&quot;, &quot;task&quot;, &quot;product&quot;, &quot;version&quot;]): The</span>
<span class="sd">            entity type which should be received.</span>
<span class="sd">        entity_id (str): Id of entity.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict[str, Any]: Received entity data.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_rest_entity_by_id</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_rest_folder"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_rest_folder">[docs]</a><span class="k">def</span> <span class="nf">get_rest_folder</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_rest_folder</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_rest_folders"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_rest_folders">[docs]</a><span class="k">def</span> <span class="nf">get_rest_folders</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get simplified flat list of all project folders.</span>

<span class="sd">    Get all project folders in single REST call. This can be faster than</span>
<span class="sd">        using &#39;get_folders&#39; method which is using GraphQl, but does not</span>
<span class="sd">        allow any filtering, and set of fields is defined</span>
<span class="sd">        by server backend.</span>

<span class="sd">    Example::</span>

<span class="sd">        [</span>
<span class="sd">            {</span>
<span class="sd">                &quot;id&quot;: &quot;112233445566&quot;,</span>
<span class="sd">                &quot;parentId&quot;: &quot;112233445567&quot;,</span>
<span class="sd">                &quot;path&quot;: &quot;/root/parent/child&quot;,</span>
<span class="sd">                &quot;parents&quot;: [&quot;root&quot;, &quot;parent&quot;],</span>
<span class="sd">                &quot;name&quot;: &quot;child&quot;,</span>
<span class="sd">                &quot;label&quot;: &quot;Child&quot;,</span>
<span class="sd">                &quot;folderType&quot;: &quot;Folder&quot;,</span>
<span class="sd">                &quot;hasTasks&quot;: False,</span>
<span class="sd">                &quot;hasChildren&quot;: False,</span>
<span class="sd">                &quot;taskNames&quot;: [</span>
<span class="sd">                    &quot;Compositing&quot;,</span>
<span class="sd">                ],</span>
<span class="sd">                &quot;status&quot;: &quot;In Progress&quot;,</span>
<span class="sd">                &quot;attrib&quot;: {},</span>
<span class="sd">                &quot;ownAttrib&quot;: [],</span>
<span class="sd">                &quot;updatedAt&quot;: &quot;2023-06-12T15:37:02.420260&quot;,</span>
<span class="sd">            },</span>
<span class="sd">            ...</span>
<span class="sd">        ]</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project name.</span>
<span class="sd">        include_attrib (Optional[bool]): Include attribute values</span>
<span class="sd">            in output. Slower to query.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[dict[str, Any]]: List of folder entities.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_rest_folders</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_rest_task"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_rest_task">[docs]</a><span class="k">def</span> <span class="nf">get_rest_task</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_rest_task</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_rest_product"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_rest_product">[docs]</a><span class="k">def</span> <span class="nf">get_rest_product</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_rest_product</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_rest_version"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_rest_version">[docs]</a><span class="k">def</span> <span class="nf">get_rest_version</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_rest_version</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_rest_representation"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_rest_representation">[docs]</a><span class="k">def</span> <span class="nf">get_rest_representation</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_rest_representation</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_project_names"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_project_names">[docs]</a><span class="k">def</span> <span class="nf">get_project_names</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Receive available project names.</span>

<span class="sd">    User must be logged in.</span>

<span class="sd">    Args:</span>
<span class="sd">        active (Optional[bool]): Filter active/inactive projects. Both</span>
<span class="sd">            are returned if &#39;None&#39; is passed.</span>
<span class="sd">        library (Optional[bool]): Filter standard/library projects. Both</span>
<span class="sd">            are returned if &#39;None&#39; is passed.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[str]: List of available project names.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_project_names</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_projects"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_projects">[docs]</a><span class="k">def</span> <span class="nf">get_projects</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get projects.</span>

<span class="sd">    Args:</span>
<span class="sd">        active (Optional[bool]): Filter active or inactive projects.</span>
<span class="sd">            Filter is disabled when &#39;None&#39; is passed.</span>
<span class="sd">        library (Optional[bool]): Filter library projects. Filter is</span>
<span class="sd">            disabled when &#39;None&#39; is passed.</span>
<span class="sd">        fields (Optional[Iterable[str]]): fields to be queried</span>
<span class="sd">            for project.</span>
<span class="sd">        own_attributes (Optional[bool]): Attribute values that are</span>
<span class="sd">            not explicitly set on entity will have &#39;None&#39; value.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Generator[dict[str, Any]]: Queried projects.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_projects</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_project"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_project">[docs]</a><span class="k">def</span> <span class="nf">get_project</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get project.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Name of project.</span>
<span class="sd">        fields (Optional[Iterable[str]]): fields to be queried</span>
<span class="sd">            for project.</span>
<span class="sd">        own_attributes (Optional[bool]): Attribute values that are</span>
<span class="sd">            not explicitly set on entity will have &#39;None&#39; value.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Union[dict[str, Any], None]: Project entity data or None</span>
<span class="sd">            if project was not found.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_project</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_folders_hierarchy"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_folders_hierarchy">[docs]</a><span class="k">def</span> <span class="nf">get_folders_hierarchy</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get project hierarchy.</span>

<span class="sd">    All folders in project in hierarchy data structure.</span>

<span class="sd">    Example output:</span>
<span class="sd">        {</span>
<span class="sd">            &quot;hierarchy&quot;: [</span>
<span class="sd">                {</span>
<span class="sd">                    &quot;id&quot;: &quot;...&quot;,</span>
<span class="sd">                    &quot;name&quot;: &quot;...&quot;,</span>
<span class="sd">                    &quot;label&quot;: &quot;...&quot;,</span>
<span class="sd">                    &quot;status&quot;: &quot;...&quot;,</span>
<span class="sd">                    &quot;folderType&quot;: &quot;...&quot;,</span>
<span class="sd">                    &quot;hasTasks&quot;: False,</span>
<span class="sd">                    &quot;taskNames&quot;: [],</span>
<span class="sd">                    &quot;parents&quot;: [],</span>
<span class="sd">                    &quot;parentId&quot;: None,</span>
<span class="sd">                    &quot;children&quot;: [...children folders...]</span>
<span class="sd">                },</span>
<span class="sd">                ...</span>
<span class="sd">            ]</span>
<span class="sd">        }</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project where to look for folders.</span>
<span class="sd">        search_string (Optional[str]): Search string to filter folders.</span>
<span class="sd">        folder_types (Optional[Iterable[str]]): Folder types to filter.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict[str, Any]: Response data from server.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_folders_hierarchy</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_folders_rest"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_folders_rest">[docs]</a><span class="k">def</span> <span class="nf">get_folders_rest</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get simplified flat list of all project folders.</span>

<span class="sd">    Get all project folders in single REST call. This can be faster than</span>
<span class="sd">        using &#39;get_folders&#39; method which is using GraphQl, but does not</span>
<span class="sd">        allow any filtering, and set of fields is defined</span>
<span class="sd">        by server backend.</span>

<span class="sd">    Example::</span>

<span class="sd">        [</span>
<span class="sd">            {</span>
<span class="sd">                &quot;id&quot;: &quot;112233445566&quot;,</span>
<span class="sd">                &quot;parentId&quot;: &quot;112233445567&quot;,</span>
<span class="sd">                &quot;path&quot;: &quot;/root/parent/child&quot;,</span>
<span class="sd">                &quot;parents&quot;: [&quot;root&quot;, &quot;parent&quot;],</span>
<span class="sd">                &quot;name&quot;: &quot;child&quot;,</span>
<span class="sd">                &quot;label&quot;: &quot;Child&quot;,</span>
<span class="sd">                &quot;folderType&quot;: &quot;Folder&quot;,</span>
<span class="sd">                &quot;hasTasks&quot;: False,</span>
<span class="sd">                &quot;hasChildren&quot;: False,</span>
<span class="sd">                &quot;taskNames&quot;: [</span>
<span class="sd">                    &quot;Compositing&quot;,</span>
<span class="sd">                ],</span>
<span class="sd">                &quot;status&quot;: &quot;In Progress&quot;,</span>
<span class="sd">                &quot;attrib&quot;: {},</span>
<span class="sd">                &quot;ownAttrib&quot;: [],</span>
<span class="sd">                &quot;updatedAt&quot;: &quot;2023-06-12T15:37:02.420260&quot;,</span>
<span class="sd">            },</span>
<span class="sd">            ...</span>
<span class="sd">        ]</span>

<span class="sd">    Deprecated:</span>
<span class="sd">        Use &#39;get_rest_folders&#39; instead. Function was renamed to match</span>
<span class="sd">            other rest functions, like &#39;get_rest_folder&#39;,</span>
<span class="sd">            &#39;get_rest_project&#39; etc. .</span>
<span class="sd">        Will be removed in &#39;1.0.7&#39; or &#39;1.1.0&#39;.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project name.</span>
<span class="sd">        include_attrib (Optional[bool]): Include attribute values</span>
<span class="sd">            in output. Slower to query.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[dict[str, Any]]: List of folder entities.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_folders_rest</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_folders"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_folders">[docs]</a><span class="k">def</span> <span class="nf">get_folders</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Query folders from server.</span>

<span class="sd">    Todos:</span>
<span class="sd">        Folder name won&#39;t be unique identifier, so we should add folder path</span>
<span class="sd">            filtering.</span>

<span class="sd">    Notes:</span>
<span class="sd">        Filter &#39;active&#39; don&#39;t have direct filter in GraphQl.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Name of project.</span>
<span class="sd">        folder_ids (Optional[Iterable[str]]): Folder ids to filter.</span>
<span class="sd">        folder_paths (Optional[Iterable[str]]): Folder paths used</span>
<span class="sd">            for filtering.</span>
<span class="sd">        folder_names (Optional[Iterable[str]]): Folder names used</span>
<span class="sd">            for filtering.</span>
<span class="sd">        folder_types (Optional[Iterable[str]]): Folder types used</span>
<span class="sd">            for filtering.</span>
<span class="sd">        parent_ids (Optional[Iterable[str]]): Ids of folder parents.</span>
<span class="sd">            Use &#39;None&#39; if folder is direct child of project.</span>
<span class="sd">        folder_path_regex (Optional[str]): Folder path regex used</span>
<span class="sd">            for filtering.</span>
<span class="sd">        has_products (Optional[bool]): Filter folders with/without</span>
<span class="sd">            products. Ignored when None, default behavior.</span>
<span class="sd">        has_tasks (Optional[bool]): Filter folders with/without</span>
<span class="sd">            tasks. Ignored when None, default behavior.</span>
<span class="sd">        has_children (Optional[bool]): Filter folders with/without</span>
<span class="sd">            children. Ignored when None, default behavior.</span>
<span class="sd">        statuses (Optional[Iterable[str]]): Folder statuses used</span>
<span class="sd">            for filtering.</span>
<span class="sd">        tags (Optional[Iterable[str]]): Folder tags used</span>
<span class="sd">            for filtering.</span>
<span class="sd">        active (Optional[bool]): Filter active/inactive folders.</span>
<span class="sd">            Both are returned if is set to None.</span>
<span class="sd">        has_links (Optional[Literal[IN, OUT, ANY]]): Filter</span>
<span class="sd">            representations with IN/OUT/ANY links.</span>
<span class="sd">        fields (Optional[Iterable[str]]): Fields to be queried for</span>
<span class="sd">            folder. All possible folder fields are returned</span>
<span class="sd">            if &#39;None&#39; is passed.</span>
<span class="sd">        own_attributes (Optional[bool]): Attribute values that are</span>
<span class="sd">            not explicitly set on entity will have &#39;None&#39; value.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Generator[dict[str, Any]]: Queried folder entities.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_folders</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_folder_by_id"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_folder_by_id">[docs]</a><span class="k">def</span> <span class="nf">get_folder_by_id</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Query folder entity by id.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Name of project where to look for queried</span>
<span class="sd">            entities.</span>
<span class="sd">        folder_id (str): Folder id.</span>
<span class="sd">        fields (Optional[Iterable[str]]): Fields that should be returned.</span>
<span class="sd">            All fields are returned if &#39;None&#39; is passed.</span>
<span class="sd">        own_attributes (Optional[bool]): Attribute values that are</span>
<span class="sd">            not explicitly set on entity will have &#39;None&#39; value.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Union[dict, None]: Folder entity data or None if was not found.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_folder_by_id</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_folder_by_path"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_folder_by_path">[docs]</a><span class="k">def</span> <span class="nf">get_folder_by_path</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Query folder entity by path.</span>

<span class="sd">    Folder path is a path to folder with all parent names joined by slash.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Name of project where to look for queried</span>
<span class="sd">            entities.</span>
<span class="sd">        folder_path (str): Folder path.</span>
<span class="sd">        fields (Optional[Iterable[str]]): Fields that should be returned.</span>
<span class="sd">            All fields are returned if &#39;None&#39; is passed.</span>
<span class="sd">        own_attributes (Optional[bool]): Attribute values that are</span>
<span class="sd">            not explicitly set on entity will have &#39;None&#39; value.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Union[dict, None]: Folder entity data or None if was not found.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_folder_by_path</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_folder_by_name"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_folder_by_name">[docs]</a><span class="k">def</span> <span class="nf">get_folder_by_name</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Query folder entity by path.</span>

<span class="sd">    Warnings:</span>
<span class="sd">        Folder name is not a unique identifier of a folder. Function is</span>
<span class="sd">            kept for OpenPype 3 compatibility.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Name of project where to look for queried</span>
<span class="sd">            entities.</span>
<span class="sd">        folder_name (str): Folder name.</span>
<span class="sd">        fields (Optional[Iterable[str]]): Fields that should be returned.</span>
<span class="sd">            All fields are returned if &#39;None&#39; is passed.</span>
<span class="sd">        own_attributes (Optional[bool]): Attribute values that are</span>
<span class="sd">            not explicitly set on entity will have &#39;None&#39; value.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Union[dict, None]: Folder entity data or None if was not found.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_folder_by_name</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_folder_ids_with_products"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_folder_ids_with_products">[docs]</a><span class="k">def</span> <span class="nf">get_folder_ids_with_products</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Find folders which have at least one product.</span>

<span class="sd">    Folders that have at least one product should be immutable, so they</span>
<span class="sd">    should not change path -&gt; change of name or name of any parent</span>
<span class="sd">    is not possible.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Name of project.</span>
<span class="sd">        folder_ids (Optional[Iterable[str]]): Limit folder ids filtering</span>
<span class="sd">            to a set of folders. If set to None all folders on project are</span>
<span class="sd">            checked.</span>

<span class="sd">    Returns:</span>
<span class="sd">        set[str]: Folder ids that have at least one product.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_folder_ids_with_products</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="create_folder"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.create_folder">[docs]</a><span class="k">def</span> <span class="nf">create_folder</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create new folder.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project name.</span>
<span class="sd">        name (str): Folder name.</span>
<span class="sd">        folder_type (Optional[str]): Folder type.</span>
<span class="sd">        parent_id (Optional[str]): Parent folder id. Parent is project</span>
<span class="sd">            if is ``None``.</span>
<span class="sd">        label (Optional[str]): Label of folder.</span>
<span class="sd">        attrib (Optional[dict[str, Any]]): Folder attributes.</span>
<span class="sd">        data (Optional[dict[str, Any]]): Folder data.</span>
<span class="sd">        tags (Optional[Iterable[str]]): Folder tags.</span>
<span class="sd">        status (Optional[str]): Folder status.</span>
<span class="sd">        active (Optional[bool]): Folder active state.</span>
<span class="sd">        thumbnail_id (Optional[str]): Folder thumbnail id.</span>
<span class="sd">        folder_id (Optional[str]): Folder id. If not passed new id is</span>
<span class="sd">            generated.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: Entity id.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">create_folder</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="update_folder"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.update_folder">[docs]</a><span class="k">def</span> <span class="nf">update_folder</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update folder entity on server.</span>

<span class="sd">    Do not pass ``parent_id``, ``label`` amd ``thumbnail_id`` if you don&#39;t</span>
<span class="sd">        want to change their values. Value ``None`` would unset</span>
<span class="sd">        their value.</span>

<span class="sd">    Update of ``data`` will override existing value on folder entity.</span>

<span class="sd">    Update of ``attrib`` does change only passed attributes. If you want</span>
<span class="sd">        to unset value, use ``None``.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project name.</span>
<span class="sd">        folder_id (str): Folder id.</span>
<span class="sd">        name (Optional[str]): New name.</span>
<span class="sd">        folder_type (Optional[str]): New folder type.</span>
<span class="sd">        parent_id (Optional[Union[str, None]]): New parent folder id.</span>
<span class="sd">        label (Optional[Union[str, None]]): New label.</span>
<span class="sd">        attrib (Optional[dict[str, Any]]): New attributes.</span>
<span class="sd">        data (Optional[dict[str, Any]]): New data.</span>
<span class="sd">        tags (Optional[Iterable[str]]): New tags.</span>
<span class="sd">        status (Optional[str]): New status.</span>
<span class="sd">        active (Optional[bool]): New active state.</span>
<span class="sd">        thumbnail_id (Optional[Union[str, None]]): New thumbnail id.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">update_folder</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="delete_folder"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.delete_folder">[docs]</a><span class="k">def</span> <span class="nf">delete_folder</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete folder.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project name.</span>
<span class="sd">        folder_id (str): Folder id to delete.</span>
<span class="sd">        force (Optional[bool]): Folder delete folder with all children</span>
<span class="sd">            folder, products, versions and representations.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">delete_folder</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_tasks"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_tasks">[docs]</a><span class="k">def</span> <span class="nf">get_tasks</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Query task entities from server.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Name of project.</span>
<span class="sd">        task_ids (Iterable[str]): Task ids to filter.</span>
<span class="sd">        task_names (Iterable[str]): Task names used for filtering.</span>
<span class="sd">        task_types (Iterable[str]): Task types used for filtering.</span>
<span class="sd">        folder_ids (Iterable[str]): Ids of task parents. Use &#39;None&#39;</span>
<span class="sd">            if folder is direct child of project.</span>
<span class="sd">        assignees (Optional[Iterable[str]]): Task assignees used for</span>
<span class="sd">            filtering. All tasks with any of passed assignees are</span>
<span class="sd">            returned.</span>
<span class="sd">        assignees_all (Optional[Iterable[str]]): Task assignees used</span>
<span class="sd">            for filtering. Task must have all of passed assignees to be</span>
<span class="sd">            returned.</span>
<span class="sd">        statuses (Optional[Iterable[str]]): Task statuses used for</span>
<span class="sd">            filtering.</span>
<span class="sd">        tags (Optional[Iterable[str]]): Task tags used for</span>
<span class="sd">            filtering.</span>
<span class="sd">        active (Optional[bool]): Filter active/inactive tasks.</span>
<span class="sd">            Both are returned if is set to None.</span>
<span class="sd">        fields (Optional[Iterable[str]]): Fields to be queried for</span>
<span class="sd">            folder. All possible folder fields are returned</span>
<span class="sd">            if &#39;None&#39; is passed.</span>
<span class="sd">        own_attributes (Optional[bool]): Attribute values that are</span>
<span class="sd">            not explicitly set on entity will have &#39;None&#39; value.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Generator[dict[str, Any]]: Queried task entities.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_tasks</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_task_by_name"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_task_by_name">[docs]</a><span class="k">def</span> <span class="nf">get_task_by_name</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Query task entity by name and folder id.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Name of project where to look for queried</span>
<span class="sd">            entities.</span>
<span class="sd">        folder_id (str): Folder id.</span>
<span class="sd">        task_name (str): Task name</span>
<span class="sd">        fields (Optional[Iterable[str]]): Fields that should be returned.</span>
<span class="sd">            All fields are returned if &#39;None&#39; is passed.</span>
<span class="sd">        own_attributes (Optional[bool]): Attribute values that are</span>
<span class="sd">            not explicitly set on entity will have &#39;None&#39; value.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Union[dict, None]: Task entity data or None if was not found.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_task_by_name</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_task_by_id"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_task_by_id">[docs]</a><span class="k">def</span> <span class="nf">get_task_by_id</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Query task entity by id.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Name of project where to look for queried</span>
<span class="sd">            entities.</span>
<span class="sd">        task_id (str): Task id.</span>
<span class="sd">        fields (Optional[Iterable[str]]): Fields that should be returned.</span>
<span class="sd">            All fields are returned if &#39;None&#39; is passed.</span>
<span class="sd">        own_attributes (Optional[bool]): Attribute values that are</span>
<span class="sd">            not explicitly set on entity will have &#39;None&#39; value.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Union[dict, None]: Task entity data or None if was not found.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_task_by_id</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_tasks_by_folder_paths"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_tasks_by_folder_paths">[docs]</a><span class="k">def</span> <span class="nf">get_tasks_by_folder_paths</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Query task entities from server by folder paths.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Name of project.</span>
<span class="sd">        folder_paths (list[str]): Folder paths.</span>
<span class="sd">        task_names (Iterable[str]): Task names used for filtering.</span>
<span class="sd">        task_types (Iterable[str]): Task types used for filtering.</span>
<span class="sd">        assignees (Optional[Iterable[str]]): Task assignees used for</span>
<span class="sd">            filtering. All tasks with any of passed assignees are</span>
<span class="sd">            returned.</span>
<span class="sd">        assignees_all (Optional[Iterable[str]]): Task assignees used</span>
<span class="sd">            for filtering. Task must have all of passed assignees to be</span>
<span class="sd">            returned.</span>
<span class="sd">        statuses (Optional[Iterable[str]]): Task statuses used for</span>
<span class="sd">            filtering.</span>
<span class="sd">        tags (Optional[Iterable[str]]): Task tags used for</span>
<span class="sd">            filtering.</span>
<span class="sd">        active (Optional[bool]): Filter active/inactive tasks.</span>
<span class="sd">            Both are returned if is set to None.</span>
<span class="sd">        fields (Optional[Iterable[str]]): Fields to be queried for</span>
<span class="sd">            folder. All possible folder fields are returned</span>
<span class="sd">            if &#39;None&#39; is passed.</span>
<span class="sd">        own_attributes (Optional[bool]): Attribute values that are</span>
<span class="sd">            not explicitly set on entity will have &#39;None&#39; value.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict[dict[str, list[dict[str, Any]]]: Task entities by</span>
<span class="sd">            folder path.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_tasks_by_folder_paths</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_tasks_by_folder_path"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_tasks_by_folder_path">[docs]</a><span class="k">def</span> <span class="nf">get_tasks_by_folder_path</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Query task entities from server by folder path.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Name of project.</span>
<span class="sd">        folder_path (str): Folder path.</span>
<span class="sd">        task_names (Iterable[str]): Task names used for filtering.</span>
<span class="sd">        task_types (Iterable[str]): Task types used for filtering.</span>
<span class="sd">        assignees (Optional[Iterable[str]]): Task assignees used for</span>
<span class="sd">            filtering. All tasks with any of passed assignees are</span>
<span class="sd">            returned.</span>
<span class="sd">        assignees_all (Optional[Iterable[str]]): Task assignees used</span>
<span class="sd">            for filtering. Task must have all of passed assignees to be</span>
<span class="sd">            returned.</span>
<span class="sd">        statuses (Optional[Iterable[str]]): Task statuses used for</span>
<span class="sd">            filtering.</span>
<span class="sd">        tags (Optional[Iterable[str]]): Task tags used for</span>
<span class="sd">            filtering.</span>
<span class="sd">        active (Optional[bool]): Filter active/inactive tasks.</span>
<span class="sd">            Both are returned if is set to None.</span>
<span class="sd">        fields (Optional[Iterable[str]]): Fields to be queried for</span>
<span class="sd">            folder. All possible folder fields are returned</span>
<span class="sd">            if &#39;None&#39; is passed.</span>
<span class="sd">        own_attributes (Optional[bool]): Attribute values that are</span>
<span class="sd">            not explicitly set on entity will have &#39;None&#39; value.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_tasks_by_folder_path</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_task_by_folder_path"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_task_by_folder_path">[docs]</a><span class="k">def</span> <span class="nf">get_task_by_folder_path</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Query task entity by folder path and task name.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project name.</span>
<span class="sd">        folder_path (str): Folder path.</span>
<span class="sd">        task_name (str): Task name.</span>
<span class="sd">        fields (Optional[Iterable[str]]): Task fields that should</span>
<span class="sd">            be returned.</span>
<span class="sd">        own_attributes (Optional[bool]): Attribute values that are</span>
<span class="sd">            not explicitly set on entity will have &#39;None&#39; value.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Union[dict[str, Any], None]: Task entity data or None if was</span>
<span class="sd">            not found.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_task_by_folder_path</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="create_task"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.create_task">[docs]</a><span class="k">def</span> <span class="nf">create_task</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create new task.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project name.</span>
<span class="sd">        name (str): Folder name.</span>
<span class="sd">        task_type (str): Task type.</span>
<span class="sd">        folder_id (str): Parent folder id.</span>
<span class="sd">        label (Optional[str]): Label of folder.</span>
<span class="sd">        assignees (Optional[Iterable[str]]): Task assignees.</span>
<span class="sd">        attrib (Optional[dict[str, Any]]): Task attributes.</span>
<span class="sd">        data (Optional[dict[str, Any]]): Task data.</span>
<span class="sd">        tags (Optional[Iterable[str]]): Task tags.</span>
<span class="sd">        status (Optional[str]): Task status.</span>
<span class="sd">        active (Optional[bool]): Task active state.</span>
<span class="sd">        thumbnail_id (Optional[str]): Task thumbnail id.</span>
<span class="sd">        task_id (Optional[str]): Task id. If not passed new id is</span>
<span class="sd">            generated.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: Task id.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="update_task"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.update_task">[docs]</a><span class="k">def</span> <span class="nf">update_task</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update task entity on server.</span>

<span class="sd">    Do not pass ``label`` amd ``thumbnail_id`` if you don&#39;t</span>
<span class="sd">        want to change their values. Value ``None`` would unset</span>
<span class="sd">        their value.</span>

<span class="sd">    Update of ``data`` will override existing value on folder entity.</span>

<span class="sd">    Update of ``attrib`` does change only passed attributes. If you want</span>
<span class="sd">        to unset value, use ``None``.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project name.</span>
<span class="sd">        task_id (str): Task id.</span>
<span class="sd">        name (Optional[str]): New name.</span>
<span class="sd">        task_type (Optional[str]): New task type.</span>
<span class="sd">        folder_id (Optional[str]): New folder id.</span>
<span class="sd">        label (Optional[Union[str, None]]): New label.</span>
<span class="sd">        assignees (Optional[str]): New assignees.</span>
<span class="sd">        attrib (Optional[dict[str, Any]]): New attributes.</span>
<span class="sd">        data (Optional[dict[str, Any]]): New data.</span>
<span class="sd">        tags (Optional[Iterable[str]]): New tags.</span>
<span class="sd">        status (Optional[str]): New status.</span>
<span class="sd">        active (Optional[bool]): New active state.</span>
<span class="sd">        thumbnail_id (Optional[Union[str, None]]): New thumbnail id.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">update_task</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="delete_task"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.delete_task">[docs]</a><span class="k">def</span> <span class="nf">delete_task</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete task.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project name.</span>
<span class="sd">        task_id (str): Task id to delete.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">delete_task</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_products"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_products">[docs]</a><span class="k">def</span> <span class="nf">get_products</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Query products from server.</span>

<span class="sd">    Todos:</span>
<span class="sd">        Separate &#39;name_by_folder_ids&#39; filtering to separated method. It</span>
<span class="sd">            cannot be combined with some other filters.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Name of project.</span>
<span class="sd">        product_ids (Optional[Iterable[str]]): Task ids to filter.</span>
<span class="sd">        product_names (Optional[Iterable[str]]): Task names used for</span>
<span class="sd">            filtering.</span>
<span class="sd">        folder_ids (Optional[Iterable[str]]): Ids of task parents.</span>
<span class="sd">            Use &#39;None&#39; if folder is direct child of project.</span>
<span class="sd">        product_types (Optional[Iterable[str]]): Product types used for</span>
<span class="sd">            filtering.</span>
<span class="sd">        product_name_regex (Optional[str]): Filter products by name regex.</span>
<span class="sd">        product_path_regex (Optional[str]): Filter products by path regex.</span>
<span class="sd">            Path starts with folder path and ends with product name.</span>
<span class="sd">        names_by_folder_ids (Optional[dict[str, Iterable[str]]]): Product</span>
<span class="sd">            name filtering by folder id.</span>
<span class="sd">        statuses (Optional[Iterable[str]]): Product statuses used</span>
<span class="sd">            for filtering.</span>
<span class="sd">        tags (Optional[Iterable[str]]): Product tags used</span>
<span class="sd">            for filtering.</span>
<span class="sd">        active (Optional[bool]): Filter active/inactive products.</span>
<span class="sd">            Both are returned if is set to None.</span>
<span class="sd">        fields (Optional[Iterable[str]]): Fields to be queried for</span>
<span class="sd">            folder. All possible folder fields are returned</span>
<span class="sd">            if &#39;None&#39; is passed.</span>
<span class="sd">        own_attributes (Optional[bool]): DEPRECATED: Not supported for</span>
<span class="sd">            products.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Generator[dict[str, Any]]: Queried product entities.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_products</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_product_by_id"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_product_by_id">[docs]</a><span class="k">def</span> <span class="nf">get_product_by_id</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Query product entity by id.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Name of project where to look for queried</span>
<span class="sd">            entities.</span>
<span class="sd">        product_id (str): Product id.</span>
<span class="sd">        fields (Optional[Iterable[str]]): Fields that should be returned.</span>
<span class="sd">            All fields are returned if &#39;None&#39; is passed.</span>
<span class="sd">        own_attributes (Optional[bool]): DEPRECATED: Not supported for</span>
<span class="sd">            products.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Union[dict, None]: Product entity data or None if was not found.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_product_by_id</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_product_by_name"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_product_by_name">[docs]</a><span class="k">def</span> <span class="nf">get_product_by_name</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Query product entity by name and folder id.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Name of project where to look for queried</span>
<span class="sd">            entities.</span>
<span class="sd">        product_name (str): Product name.</span>
<span class="sd">        folder_id (str): Folder id (Folder is a parent of products).</span>
<span class="sd">        fields (Optional[Iterable[str]]): Fields that should be returned.</span>
<span class="sd">            All fields are returned if &#39;None&#39; is passed.</span>
<span class="sd">        own_attributes (Optional[bool]): DEPRECATED: Not supported for</span>
<span class="sd">            products.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Union[dict, None]: Product entity data or None if was not found.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_product_by_name</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_product_types"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_product_types">[docs]</a><span class="k">def</span> <span class="nf">get_product_types</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Types of products.</span>

<span class="sd">    This is server wide information. Product types have &#39;name&#39;, &#39;icon&#39; and</span>
<span class="sd">        &#39;color&#39;.</span>

<span class="sd">    Args:</span>
<span class="sd">        fields (Optional[Iterable[str]]): Product types fields to query.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[dict[str, Any]]: Product types information.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_product_types</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_project_product_types"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_project_product_types">[docs]</a><span class="k">def</span> <span class="nf">get_project_product_types</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Types of products available on a project.</span>

<span class="sd">    Filter only product types available on project.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Name of project where to look for</span>
<span class="sd">            product types.</span>
<span class="sd">        fields (Optional[Iterable[str]]): Product types fields to query.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[dict[str, Any]]: Product types information.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_project_product_types</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_product_type_names"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_product_type_names">[docs]</a><span class="k">def</span> <span class="nf">get_product_type_names</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Product type names.</span>

<span class="sd">    Warnings:</span>
<span class="sd">        This function will be probably removed. Matters if &#39;products_id&#39;</span>
<span class="sd">            filter has real use-case.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (Optional[str]): Name of project where to look for</span>
<span class="sd">            queried entities.</span>
<span class="sd">        product_ids (Optional[Iterable[str]]): Product ids filter. Can be</span>
<span class="sd">            used only with &#39;project_name&#39;.</span>

<span class="sd">    Returns:</span>
<span class="sd">        set[str]: Product type names.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_product_type_names</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="create_product"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.create_product">[docs]</a><span class="k">def</span> <span class="nf">create_product</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create new product.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project name.</span>
<span class="sd">        name (str): Product name.</span>
<span class="sd">        product_type (str): Product type.</span>
<span class="sd">        folder_id (str): Parent folder id.</span>
<span class="sd">        attrib (Optional[dict[str, Any]]): Product attributes.</span>
<span class="sd">        data (Optional[dict[str, Any]]): Product data.</span>
<span class="sd">        tags (Optional[Iterable[str]]): Product tags.</span>
<span class="sd">        status (Optional[str]): Product status.</span>
<span class="sd">        active (Optional[bool]): Product active state.</span>
<span class="sd">        product_id (Optional[str]): Product id. If not passed new id is</span>
<span class="sd">            generated.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: Product id.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">create_product</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="update_product"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.update_product">[docs]</a><span class="k">def</span> <span class="nf">update_product</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update product entity on server.</span>

<span class="sd">    Update of ``data`` will override existing value on folder entity.</span>

<span class="sd">    Update of ``attrib`` does change only passed attributes. If you want</span>
<span class="sd">        to unset value, use ``None``.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project name.</span>
<span class="sd">        product_id (str): Product id.</span>
<span class="sd">        name (Optional[str]): New product name.</span>
<span class="sd">        folder_id (Optional[str]): New product id.</span>
<span class="sd">        product_type (Optional[str]): New product type.</span>
<span class="sd">        attrib (Optional[dict[str, Any]]): New product attributes.</span>
<span class="sd">        data (Optional[dict[str, Any]]): New product data.</span>
<span class="sd">        tags (Optional[Iterable[str]]): New product tags.</span>
<span class="sd">        status (Optional[str]): New product status.</span>
<span class="sd">        active (Optional[bool]): New product active state.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">update_product</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="delete_product"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.delete_product">[docs]</a><span class="k">def</span> <span class="nf">delete_product</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete product.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project name.</span>
<span class="sd">        product_id (str): Product id to delete.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">delete_product</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_versions"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_versions">[docs]</a><span class="k">def</span> <span class="nf">get_versions</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get version entities based on passed filters from server.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Name of project where to look for versions.</span>
<span class="sd">        version_ids (Optional[Iterable[str]]): Version ids used for</span>
<span class="sd">            version filtering.</span>
<span class="sd">        product_ids (Optional[Iterable[str]]): Product ids used for</span>
<span class="sd">            version filtering.</span>
<span class="sd">        versions (Optional[Iterable[int]]): Versions we&#39;re interested in.</span>
<span class="sd">        hero (Optional[bool]): Receive also hero versions when set to true.</span>
<span class="sd">        standard (Optional[bool]): Receive versions which are not hero when</span>
<span class="sd">            set to true.</span>
<span class="sd">        latest (Optional[bool]): Return only latest version of standard</span>
<span class="sd">            versions. This can be combined only with &#39;standard&#39; attribute</span>
<span class="sd">            set to True.</span>
<span class="sd">        statuses (Optional[Iterable[str]]): Representation statuses used</span>
<span class="sd">            for filtering.</span>
<span class="sd">        tags (Optional[Iterable[str]]): Representation tags used</span>
<span class="sd">            for filtering.</span>
<span class="sd">        active (Optional[bool]): Receive active/inactive entities.</span>
<span class="sd">            Both are returned when &#39;None&#39; is passed.</span>
<span class="sd">        fields (Optional[Iterable[str]]): Fields to be queried</span>
<span class="sd">            for version. All possible folder fields are returned</span>
<span class="sd">            if &#39;None&#39; is passed.</span>
<span class="sd">        own_attributes (Optional[bool]): DEPRECATED: Not supported for</span>
<span class="sd">            versions.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Generator[dict[str, Any]]: Queried version entities.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_versions</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_version_by_id"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_version_by_id">[docs]</a><span class="k">def</span> <span class="nf">get_version_by_id</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Query version entity by id.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Name of project where to look for queried</span>
<span class="sd">            entities.</span>
<span class="sd">        version_id (str): Version id.</span>
<span class="sd">        fields (Optional[Iterable[str]]): Fields that should be returned.</span>
<span class="sd">            All fields are returned if &#39;None&#39; is passed.</span>
<span class="sd">        own_attributes (Optional[bool]): DEPRECATED: Not supported for</span>
<span class="sd">            versions.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Union[dict, None]: Version entity data or None if was not found.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_version_by_id</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_version_by_name"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_version_by_name">[docs]</a><span class="k">def</span> <span class="nf">get_version_by_name</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Query version entity by version and product id.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Name of project where to look for queried</span>
<span class="sd">            entities.</span>
<span class="sd">        version (int): Version of version entity.</span>
<span class="sd">        product_id (str): Product id. Product is a parent of version.</span>
<span class="sd">        fields (Optional[Iterable[str]]): Fields that should be returned.</span>
<span class="sd">            All fields are returned if &#39;None&#39; is passed.</span>
<span class="sd">        own_attributes (Optional[bool]): DEPRECATED: Not supported for</span>
<span class="sd">            versions.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Union[dict, None]: Version entity data or None if was not found.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_version_by_name</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_hero_version_by_id"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_hero_version_by_id">[docs]</a><span class="k">def</span> <span class="nf">get_hero_version_by_id</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Query hero version entity by id.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Name of project where to look for queried</span>
<span class="sd">            entities.</span>
<span class="sd">        version_id (int): Hero version id.</span>
<span class="sd">        fields (Optional[Iterable[str]]): Fields that should be returned.</span>
<span class="sd">            All fields are returned if &#39;None&#39; is passed.</span>
<span class="sd">        own_attributes (Optional[bool]): DEPRECATED: Not supported for</span>
<span class="sd">            versions.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Union[dict, None]: Version entity data or None if was not found.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_hero_version_by_id</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_hero_version_by_product_id"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_hero_version_by_product_id">[docs]</a><span class="k">def</span> <span class="nf">get_hero_version_by_product_id</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Query hero version entity by product id.</span>

<span class="sd">    Only one hero version is available on a product.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Name of project where to look for queried</span>
<span class="sd">            entities.</span>
<span class="sd">        product_id (int): Product id.</span>
<span class="sd">        fields (Optional[Iterable[str]]): Fields that should be returned.</span>
<span class="sd">            All fields are returned if &#39;None&#39; is passed.</span>
<span class="sd">        own_attributes (Optional[bool]): DEPRECATED: Not supported for</span>
<span class="sd">            versions.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Union[dict, None]: Version entity data or None if was not found.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_hero_version_by_product_id</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_hero_versions"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_hero_versions">[docs]</a><span class="k">def</span> <span class="nf">get_hero_versions</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Query hero versions by multiple filters.</span>

<span class="sd">    Only one hero version is available on a product.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Name of project where to look for queried</span>
<span class="sd">            entities.</span>
<span class="sd">        product_ids (Optional[Iterable[str]]): Product ids.</span>
<span class="sd">        version_ids (Optional[Iterable[str]]): Version ids.</span>
<span class="sd">        active (Optional[bool]): Receive active/inactive entities.</span>
<span class="sd">            Both are returned when &#39;None&#39; is passed.</span>
<span class="sd">        fields (Optional[Iterable[str]]): Fields that should be returned.</span>
<span class="sd">            All fields are returned if &#39;None&#39; is passed.</span>
<span class="sd">        own_attributes (Optional[bool]): DEPRECATED: Not supported for</span>
<span class="sd">            versions.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Union[dict, None]: Version entity data or None if was not found.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_hero_versions</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_last_versions"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_last_versions">[docs]</a><span class="k">def</span> <span class="nf">get_last_versions</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Query last version entities by product ids.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project where to look for representation.</span>
<span class="sd">        product_ids (Iterable[str]): Product ids.</span>
<span class="sd">        active (Optional[bool]): Receive active/inactive entities.</span>
<span class="sd">            Both are returned when &#39;None&#39; is passed.</span>
<span class="sd">        fields (Optional[Iterable[str]]): fields to be queried</span>
<span class="sd">            for representations.</span>
<span class="sd">        own_attributes (Optional[bool]): DEPRECATED: Not supported for</span>
<span class="sd">            versions.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict[str, dict[str, Any]]: Last versions by product id.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_last_versions</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_last_version_by_product_id"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_last_version_by_product_id">[docs]</a><span class="k">def</span> <span class="nf">get_last_version_by_product_id</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Query last version entity by product id.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project where to look for representation.</span>
<span class="sd">        product_id (str): Product id.</span>
<span class="sd">        active (Optional[bool]): Receive active/inactive entities.</span>
<span class="sd">            Both are returned when &#39;None&#39; is passed.</span>
<span class="sd">        fields (Optional[Iterable[str]]): fields to be queried</span>
<span class="sd">            for representations.</span>
<span class="sd">        own_attributes (Optional[bool]): DEPRECATED: Not supported for</span>
<span class="sd">            versions.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Union[dict[str, Any], None]: Queried version entity or None.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_last_version_by_product_id</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_last_version_by_product_name"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_last_version_by_product_name">[docs]</a><span class="k">def</span> <span class="nf">get_last_version_by_product_name</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Query last version entity by product name and folder id.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project where to look for representation.</span>
<span class="sd">        product_name (str): Product name.</span>
<span class="sd">        folder_id (str): Folder id.</span>
<span class="sd">        active (Optional[bool]): Receive active/inactive entities.</span>
<span class="sd">            Both are returned when &#39;None&#39; is passed.</span>
<span class="sd">        fields (Optional[Iterable[str]]): fields to be queried</span>
<span class="sd">            for representations.</span>
<span class="sd">        own_attributes (Optional[bool]): DEPRECATED: Not supported for</span>
<span class="sd">            representations.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Union[dict[str, Any], None]: Queried version entity or None.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_last_version_by_product_name</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="version_is_latest"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.version_is_latest">[docs]</a><span class="k">def</span> <span class="nf">version_is_latest</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Is version latest from a product.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project where to look for representation.</span>
<span class="sd">        version_id (str): Version id.</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: Version is latest or not.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">version_is_latest</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="create_version"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.create_version">[docs]</a><span class="k">def</span> <span class="nf">create_version</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create new version.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project name.</span>
<span class="sd">        version (int): Version.</span>
<span class="sd">        product_id (str): Parent product id.</span>
<span class="sd">        task_id (Optional[str]): Parent task id.</span>
<span class="sd">        author (Optional[str]): Version author.</span>
<span class="sd">        attrib (Optional[dict[str, Any]]): Version attributes.</span>
<span class="sd">        data (Optional[dict[str, Any]]): Version data.</span>
<span class="sd">        tags (Optional[Iterable[str]]): Version tags.</span>
<span class="sd">        status (Optional[str]): Version status.</span>
<span class="sd">        active (Optional[bool]): Version active state.</span>
<span class="sd">        thumbnail_id (Optional[str]): Version thumbnail id.</span>
<span class="sd">        version_id (Optional[str]): Version id. If not passed new id is</span>
<span class="sd">            generated.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: Version id.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">create_version</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="update_version"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.update_version">[docs]</a><span class="k">def</span> <span class="nf">update_version</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update version entity on server.</span>

<span class="sd">    Do not pass ``task_id`` amd ``thumbnail_id`` if you don&#39;t</span>
<span class="sd">        want to change their values. Value ``None`` would unset</span>
<span class="sd">        their value.</span>

<span class="sd">    Update of ``data`` will override existing value on folder entity.</span>

<span class="sd">    Update of ``attrib`` does change only passed attributes. If you want</span>
<span class="sd">        to unset value, use ``None``.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project name.</span>
<span class="sd">        version_id (str): Version id.</span>
<span class="sd">        version (Optional[int]): New version.</span>
<span class="sd">        product_id (Optional[str]): New product id.</span>
<span class="sd">        task_id (Optional[Union[str, None]]): New task id.</span>
<span class="sd">        attrib (Optional[dict[str, Any]]): New attributes.</span>
<span class="sd">        data (Optional[dict[str, Any]]): New data.</span>
<span class="sd">        tags (Optional[Iterable[str]]): New tags.</span>
<span class="sd">        status (Optional[str]): New status.</span>
<span class="sd">        active (Optional[bool]): New active state.</span>
<span class="sd">        thumbnail_id (Optional[Union[str, None]]): New thumbnail id.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">update_version</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="delete_version"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.delete_version">[docs]</a><span class="k">def</span> <span class="nf">delete_version</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete version.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project name.</span>
<span class="sd">        version_id (str): Version id to delete.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">delete_version</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_representations"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_representations">[docs]</a><span class="k">def</span> <span class="nf">get_representations</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get representation entities based on passed filters from server.</span>

<span class="sd">    Todos:</span>
<span class="sd">        Add separated function for &#39;names_by_version_ids&#39; filtering.</span>
<span class="sd">            Because can&#39;t be combined with others.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Name of project where to look for versions.</span>
<span class="sd">        representation_ids (Optional[Iterable[str]]): Representation ids</span>
<span class="sd">            used for representation filtering.</span>
<span class="sd">        representation_names (Optional[Iterable[str]]): Representation</span>
<span class="sd">            names used for representation filtering.</span>
<span class="sd">        version_ids (Optional[Iterable[str]]): Version ids used for</span>
<span class="sd">            representation filtering. Versions are parents of</span>
<span class="sd">                representations.</span>
<span class="sd">        names_by_version_ids (Optional[bool]): Find representations</span>
<span class="sd">            by names and version ids. This filter discard all</span>
<span class="sd">            other filters.</span>
<span class="sd">        statuses (Optional[Iterable[str]]): Representation statuses used</span>
<span class="sd">            for filtering.</span>
<span class="sd">        tags (Optional[Iterable[str]]): Representation tags used</span>
<span class="sd">            for filtering.</span>
<span class="sd">        active (Optional[bool]): Receive active/inactive entities.</span>
<span class="sd">            Both are returned when &#39;None&#39; is passed.</span>
<span class="sd">        has_links (Optional[Literal[IN, OUT, ANY]]): Filter</span>
<span class="sd">            representations with IN/OUT/ANY links.</span>
<span class="sd">        fields (Optional[Iterable[str]]): Fields to be queried for</span>
<span class="sd">            representation. All possible fields are returned if &#39;None&#39; is</span>
<span class="sd">            passed.</span>
<span class="sd">        own_attributes (Optional[bool]): DEPRECATED: Not supported for</span>
<span class="sd">            representations.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Generator[dict[str, Any]]: Queried representation entities.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_representations</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_representation_by_id"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_representation_by_id">[docs]</a><span class="k">def</span> <span class="nf">get_representation_by_id</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Query representation entity from server based on id filter.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project where to look for representation.</span>
<span class="sd">        representation_id (str): Id of representation.</span>
<span class="sd">        fields (Optional[Iterable[str]]): fields to be queried</span>
<span class="sd">            for representations.</span>
<span class="sd">        own_attributes (Optional[bool]): DEPRECATED: Not supported for</span>
<span class="sd">            representations.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Union[dict[str, Any], None]: Queried representation entity or None.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_representation_by_id</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_representation_by_name"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_representation_by_name">[docs]</a><span class="k">def</span> <span class="nf">get_representation_by_name</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Query representation entity by name and version id.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project where to look for representation.</span>
<span class="sd">        representation_name (str): Representation name.</span>
<span class="sd">        version_id (str): Version id.</span>
<span class="sd">        fields (Optional[Iterable[str]]): fields to be queried</span>
<span class="sd">            for representations.</span>
<span class="sd">        own_attributes (Optional[bool]): DEPRECATED: Not supported for</span>
<span class="sd">            representations.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Union[dict[str, Any], None]: Queried representation entity or None.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_representation_by_name</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_representations_hierarchy"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_representations_hierarchy">[docs]</a><span class="k">def</span> <span class="nf">get_representations_hierarchy</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Find representation with parents by representation id.</span>

<span class="sd">    Representation entity with parent entities up to project.</span>

<span class="sd">    Default fields are used when any fields are set to `None`. But it is</span>
<span class="sd">        possible to pass in empty iterable (list, set, tuple) to skip</span>
<span class="sd">        entity.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project where to look for entities.</span>
<span class="sd">        representation_ids (Iterable[str]): Representation ids.</span>
<span class="sd">        project_fields (Optional[Iterable[str]]): Project fields.</span>
<span class="sd">        folder_fields (Optional[Iterable[str]]): Folder fields.</span>
<span class="sd">        task_fields (Optional[Iterable[str]]): Task fields.</span>
<span class="sd">        product_fields (Optional[Iterable[str]]): Product fields.</span>
<span class="sd">        version_fields (Optional[Iterable[str]]): Version fields.</span>
<span class="sd">        representation_fields (Optional[Iterable[str]]): Representation</span>
<span class="sd">            fields.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict[str, RepresentationHierarchy]: Parent entities by</span>
<span class="sd">            representation id.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_representations_hierarchy</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_representation_hierarchy"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_representation_hierarchy">[docs]</a><span class="k">def</span> <span class="nf">get_representation_hierarchy</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Find representation parents by representation id.</span>

<span class="sd">    Representation parent entities up to project.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project where to look for entities.</span>
<span class="sd">        representation_id (str): Representation id.</span>
<span class="sd">        project_fields (Optional[Iterable[str]]): Project fields.</span>
<span class="sd">        folder_fields (Optional[Iterable[str]]): Folder fields.</span>
<span class="sd">        task_fields (Optional[Iterable[str]]): Task fields.</span>
<span class="sd">        product_fields (Optional[Iterable[str]]): Product fields.</span>
<span class="sd">        version_fields (Optional[Iterable[str]]): Version fields.</span>
<span class="sd">        representation_fields (Optional[Iterable[str]]): Representation</span>
<span class="sd">            fields.</span>

<span class="sd">    Returns:</span>
<span class="sd">        RepresentationHierarchy: Representation hierarchy entities.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_representation_hierarchy</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_representations_parents"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_representations_parents">[docs]</a><span class="k">def</span> <span class="nf">get_representations_parents</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Find representations parents by representation id.</span>

<span class="sd">    Representation parent entities up to project.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project where to look for entities.</span>
<span class="sd">        representation_ids (Iterable[str]): Representation ids.</span>
<span class="sd">        project_fields (Optional[Iterable[str]]): Project fields.</span>
<span class="sd">        folder_fields (Optional[Iterable[str]]): Folder fields.</span>
<span class="sd">        product_fields (Optional[Iterable[str]]): Product fields.</span>
<span class="sd">        version_fields (Optional[Iterable[str]]): Version fields.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict[str, RepresentationParents]: Parent entities by</span>
<span class="sd">            representation id.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_representations_parents</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_representation_parents"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_representation_parents">[docs]</a><span class="k">def</span> <span class="nf">get_representation_parents</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Find representation parents by representation id.</span>

<span class="sd">    Representation parent entities up to project.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project where to look for entities.</span>
<span class="sd">        representation_id (str): Representation id.</span>
<span class="sd">        project_fields (Optional[Iterable[str]]): Project fields.</span>
<span class="sd">        folder_fields (Optional[Iterable[str]]): Folder fields.</span>
<span class="sd">        product_fields (Optional[Iterable[str]]): Product fields.</span>
<span class="sd">        version_fields (Optional[Iterable[str]]): Version fields.</span>

<span class="sd">    Returns:</span>
<span class="sd">        RepresentationParents: Representation parent entities.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_representation_parents</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_repre_ids_by_context_filters"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_repre_ids_by_context_filters">[docs]</a><span class="k">def</span> <span class="nf">get_repre_ids_by_context_filters</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Find representation ids which match passed context filters.</span>

<span class="sd">    Each representation has context integrated on representation entity in</span>
<span class="sd">    database. The context may contain project, folder, task name or</span>
<span class="sd">    product name, product type and many more. This implementation gives</span>
<span class="sd">    option to quickly filter representation based on representation data</span>
<span class="sd">    in database.</span>

<span class="sd">    Context filters have defined structure. To define filter of nested</span>
<span class="sd">        subfield use dot &#39;.&#39; as delimiter (For example &#39;task.name&#39;).</span>
<span class="sd">    Filter values can be regex filters. String or ``re.Pattern`` can</span>
<span class="sd">        be used.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project where to look for representations.</span>
<span class="sd">        context_filters (dict[str, list[str]]): Filters of context fields.</span>
<span class="sd">        representation_names (Optional[Iterable[str]]): Representation</span>
<span class="sd">            names, can be used as additional filter for representations</span>
<span class="sd">            by their names.</span>
<span class="sd">        version_ids (Optional[Iterable[str]]): Version ids, can be used</span>
<span class="sd">            as additional filter for representations by their parent ids.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[str]: Representation ids that match passed filters.</span>

<span class="sd">    Example:</span>
<span class="sd">        The function returns just representation ids so if entities are</span>
<span class="sd">            required for funtionality they must be queried afterwards by</span>
<span class="sd">            their ids.</span>
<span class="sd">        &gt;&gt;&gt; project_name = &quot;testProject&quot;</span>
<span class="sd">        &gt;&gt;&gt; filters = {</span>
<span class="sd">        ...     &quot;task.name&quot;: [&quot;[aA]nimation&quot;],</span>
<span class="sd">        ...     &quot;product&quot;: [&quot;.*[Mm]ain&quot;]</span>
<span class="sd">        ... }</span>
<span class="sd">        &gt;&gt;&gt; repre_ids = get_repre_ids_by_context_filters(</span>
<span class="sd">        ...     project_name, filters)</span>
<span class="sd">        &gt;&gt;&gt; repres = get_representations(project_name, repre_ids)</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_repre_ids_by_context_filters</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="create_representation"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.create_representation">[docs]</a><span class="k">def</span> <span class="nf">create_representation</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create new representation.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project name.</span>
<span class="sd">        name (str): Representation name.</span>
<span class="sd">        version_id (str): Parent version id.</span>
<span class="sd">        files (Optional[list[dict]]): Representation files information.</span>
<span class="sd">        attrib (Optional[dict[str, Any]]): Representation attributes.</span>
<span class="sd">        data (Optional[dict[str, Any]]): Representation data.</span>
<span class="sd">        tags (Optional[Iterable[str]]): Representation tags.</span>
<span class="sd">        status (Optional[str]): Representation status.</span>
<span class="sd">        active (Optional[bool]): Representation active state.</span>
<span class="sd">        representation_id (Optional[str]): Representation id. If not</span>
<span class="sd">            passed new id is generated.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: Representation id.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">create_representation</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="update_representation"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.update_representation">[docs]</a><span class="k">def</span> <span class="nf">update_representation</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update representation entity on server.</span>

<span class="sd">    Update of ``data`` will override existing value on folder entity.</span>

<span class="sd">    Update of ``attrib`` does change only passed attributes. If you want</span>
<span class="sd">        to unset value, use ``None``.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project name.</span>
<span class="sd">        representation_id (str): Representation id.</span>
<span class="sd">        name (Optional[str]): New name.</span>
<span class="sd">        version_id (Optional[str]): New version id.</span>
<span class="sd">        files (Optional[list[dict]]): New files</span>
<span class="sd">            information.</span>
<span class="sd">        attrib (Optional[dict[str, Any]]): New attributes.</span>
<span class="sd">        data (Optional[dict[str, Any]]): New data.</span>
<span class="sd">        tags (Optional[Iterable[str]]): New tags.</span>
<span class="sd">        status (Optional[str]): New status.</span>
<span class="sd">        active (Optional[bool]): New active state.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">update_representation</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="delete_representation"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.delete_representation">[docs]</a><span class="k">def</span> <span class="nf">delete_representation</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete representation.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project name.</span>
<span class="sd">        representation_id (str): Representation id to delete.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">delete_representation</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_workfiles_info"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_workfiles_info">[docs]</a><span class="k">def</span> <span class="nf">get_workfiles_info</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Workfile info entities by passed filters.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project under which the entity is located.</span>
<span class="sd">        workfile_ids (Optional[Iterable[str]]): Workfile ids.</span>
<span class="sd">        task_ids (Optional[Iterable[str]]): Task ids.</span>
<span class="sd">        paths (Optional[Iterable[str]]): Rootless workfiles paths.</span>
<span class="sd">        path_regex (Optional[str]): Regex filter for workfile path.</span>
<span class="sd">        statuses (Optional[Iterable[str]]): Workfile info statuses used</span>
<span class="sd">            for filtering.</span>
<span class="sd">        tags (Optional[Iterable[str]]): Workfile info tags used</span>
<span class="sd">            for filtering.</span>
<span class="sd">        has_links (Optional[Literal[IN, OUT, ANY]]): Filter</span>
<span class="sd">            representations with IN/OUT/ANY links.</span>
<span class="sd">        fields (Optional[Iterable[str]]): Fields to be queried for</span>
<span class="sd">            representation. All possible fields are returned if &#39;None&#39; is</span>
<span class="sd">            passed.</span>
<span class="sd">        own_attributes (Optional[bool]): DEPRECATED: Not supported for</span>
<span class="sd">            workfiles.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Generator[dict[str, Any]]: Queried workfile info entites.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_workfiles_info</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_workfile_info"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_workfile_info">[docs]</a><span class="k">def</span> <span class="nf">get_workfile_info</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Workfile info entity by task id and workfile path.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project under which the entity is located.</span>
<span class="sd">        task_id (str): Task id.</span>
<span class="sd">        path (str): Rootless workfile path.</span>
<span class="sd">        fields (Optional[Iterable[str]]): Fields to be queried for</span>
<span class="sd">            representation. All possible fields are returned if &#39;None&#39; is</span>
<span class="sd">            passed.</span>
<span class="sd">        own_attributes (Optional[bool]): DEPRECATED: Not supported for</span>
<span class="sd">            workfiles.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Union[dict[str, Any], None]: Workfile info entity or None.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_workfile_info</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_workfile_info_by_id"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_workfile_info_by_id">[docs]</a><span class="k">def</span> <span class="nf">get_workfile_info_by_id</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Workfile info entity by id.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project under which the entity is located.</span>
<span class="sd">        workfile_id (str): Workfile info id.</span>
<span class="sd">        fields (Optional[Iterable[str]]): Fields to be queried for</span>
<span class="sd">            representation. All possible fields are returned if &#39;None&#39; is</span>
<span class="sd">            passed.</span>
<span class="sd">        own_attributes (Optional[bool]): DEPRECATED: Not supported for</span>
<span class="sd">            workfiles.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Union[dict[str, Any], None]: Workfile info entity or None.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_workfile_info_by_id</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_thumbnail_by_id"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_thumbnail_by_id">[docs]</a><span class="k">def</span> <span class="nf">get_thumbnail_by_id</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get thumbnail from server by id.</span>

<span class="sd">    Permissions of thumbnails are related to entities so thumbnails must</span>
<span class="sd">    be queried per entity. So an entity type and entity type is required</span>
<span class="sd">    to be passed.</span>

<span class="sd">    Notes:</span>
<span class="sd">        It is recommended to use one of prepared entity type specific</span>
<span class="sd">            methods &#39;get_folder_thumbnail&#39;, &#39;get_version_thumbnail&#39; or</span>
<span class="sd">            &#39;get_workfile_thumbnail&#39;.</span>
<span class="sd">        We do recommend pass thumbnail id if you have access to it. Each</span>
<span class="sd">            entity that allows thumbnails has &#39;thumbnailId&#39; field, so it</span>
<span class="sd">            can be queried.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project under which the entity is located.</span>
<span class="sd">        thumbnail_id (Optional[str]): DEPRECATED Use</span>
<span class="sd">            &#39;get_thumbnail_by_id&#39;.</span>

<span class="sd">    Returns:</span>
<span class="sd">        ThumbnailContent: Thumbnail content wrapper. Does not have to be</span>
<span class="sd">            valid.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_thumbnail_by_id</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_thumbnail"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_thumbnail">[docs]</a><span class="k">def</span> <span class="nf">get_thumbnail</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get thumbnail from server.</span>

<span class="sd">    Permissions of thumbnails are related to entities so thumbnails must</span>
<span class="sd">    be queried per entity. So an entity type and entity type is required</span>
<span class="sd">    to be passed.</span>

<span class="sd">    Notes:</span>
<span class="sd">        It is recommended to use one of prepared entity type specific</span>
<span class="sd">            methods &#39;get_folder_thumbnail&#39;, &#39;get_version_thumbnail&#39; or</span>
<span class="sd">            &#39;get_workfile_thumbnail&#39;.</span>
<span class="sd">        We do recommend pass thumbnail id if you have access to it. Each</span>
<span class="sd">            entity that allows thumbnails has &#39;thumbnailId&#39; field, so it</span>
<span class="sd">            can be queried.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project under which the entity is located.</span>
<span class="sd">        entity_type (str): Entity type which passed entity id represents.</span>
<span class="sd">        entity_id (str): Entity id for which thumbnail should be returned.</span>
<span class="sd">        thumbnail_id (Optional[str]): DEPRECATED Use</span>
<span class="sd">            &#39;get_thumbnail_by_id&#39;.</span>

<span class="sd">    Returns:</span>
<span class="sd">        ThumbnailContent: Thumbnail content wrapper. Does not have to be</span>
<span class="sd">            valid.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_thumbnail</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_folder_thumbnail"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_folder_thumbnail">[docs]</a><span class="k">def</span> <span class="nf">get_folder_thumbnail</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Prepared method to receive thumbnail for folder entity.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project under which the entity is located.</span>
<span class="sd">        folder_id (str): Folder id for which thumbnail should be returned.</span>
<span class="sd">        thumbnail_id (Optional[str]): Prepared thumbnail id from entity.</span>
<span class="sd">            Used only to check if thumbnail was already cached.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Union[str, None]: Path to downloaded thumbnail or none if entity</span>
<span class="sd">            does not have any (or if user does not have permissions).</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_folder_thumbnail</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_version_thumbnail"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_version_thumbnail">[docs]</a><span class="k">def</span> <span class="nf">get_version_thumbnail</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Prepared method to receive thumbnail for version entity.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project under which the entity is located.</span>
<span class="sd">        version_id (str): Version id for which thumbnail should be</span>
<span class="sd">            returned.</span>
<span class="sd">        thumbnail_id (Optional[str]): Prepared thumbnail id from entity.</span>
<span class="sd">            Used only to check if thumbnail was already cached.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Union[str, None]: Path to downloaded thumbnail or none if entity</span>
<span class="sd">            does not have any (or if user does not have permissions).</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_version_thumbnail</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_workfile_thumbnail"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_workfile_thumbnail">[docs]</a><span class="k">def</span> <span class="nf">get_workfile_thumbnail</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Prepared method to receive thumbnail for workfile entity.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project under which the entity is located.</span>
<span class="sd">        workfile_id (str): Worfile id for which thumbnail should be</span>
<span class="sd">            returned.</span>
<span class="sd">        thumbnail_id (Optional[str]): Prepared thumbnail id from entity.</span>
<span class="sd">            Used only to check if thumbnail was already cached.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Union[str, None]: Path to downloaded thumbnail or none if entity</span>
<span class="sd">            does not have any (or if user does not have permissions).</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_workfile_thumbnail</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="create_thumbnail"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.create_thumbnail">[docs]</a><span class="k">def</span> <span class="nf">create_thumbnail</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create new thumbnail on server from passed path.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project where the thumbnail will be created</span>
<span class="sd">            and can be used.</span>
<span class="sd">        src_filepath (str): Filepath to thumbnail which should be uploaded.</span>
<span class="sd">        thumbnail_id (Optional[str]): Prepared if of thumbnail.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: Created thumbnail id.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: When thumbnail source cannot be processed.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">create_thumbnail</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="update_thumbnail"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.update_thumbnail">[docs]</a><span class="k">def</span> <span class="nf">update_thumbnail</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Change thumbnail content by id.</span>

<span class="sd">    Update can be also used to create new thumbnail.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project where the thumbnail will be created</span>
<span class="sd">            and can be used.</span>
<span class="sd">        thumbnail_id (str): Thumbnail id to update.</span>
<span class="sd">        src_filepath (str): Filepath to thumbnail which should be uploaded.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: When thumbnail source cannot be processed.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">update_thumbnail</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="create_project"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.create_project">[docs]</a><span class="k">def</span> <span class="nf">create_project</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create project using AYON settings.</span>

<span class="sd">    This project creation function is not validating project entity on</span>
<span class="sd">    creation. It is because project entity is created blindly with only</span>
<span class="sd">    minimum required information about project which is name and code.</span>

<span class="sd">    Entered project name must be unique and project must not exist yet.</span>

<span class="sd">    Note:</span>
<span class="sd">        This function is here to be OP v4 ready but in v3 has more logic</span>
<span class="sd">            to do. That&#39;s why inner imports are in the body.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): New project name. Should be unique.</span>
<span class="sd">        project_code (str): Project&#39;s code should be unique too.</span>
<span class="sd">        library_project (Optional[bool]): Project is library project.</span>
<span class="sd">        preset_name (Optional[str]): Name of anatomy preset. Default is</span>
<span class="sd">            used if not passed.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: When project name already exists.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict[str, Any]: Created project entity.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">create_project</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="update_project"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.update_project">[docs]</a><span class="k">def</span> <span class="nf">update_project</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update project entity on server.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Name of project.</span>
<span class="sd">        library (Optional[bool]): Change library state.</span>
<span class="sd">        folder_types (Optional[list[dict[str, Any]]]): Folder type</span>
<span class="sd">            definitions.</span>
<span class="sd">        task_types (Optional[list[dict[str, Any]]]): Task type</span>
<span class="sd">            definitions.</span>
<span class="sd">        link_types (Optional[list[dict[str, Any]]]): Link type</span>
<span class="sd">            definitions.</span>
<span class="sd">        statuses (Optional[list[dict[str, Any]]]): Status definitions.</span>
<span class="sd">        tags (Optional[list[dict[str, Any]]]): List of tags available to</span>
<span class="sd">            set on entities.</span>
<span class="sd">        config (Optional[dict[dict[str, Any]]]): Project anatomy config</span>
<span class="sd">            with templates and roots.</span>
<span class="sd">        attrib (Optional[dict[str, Any]]): Project attributes to change.</span>
<span class="sd">        data (Optional[dict[str, Any]]): Custom data of a project. This</span>
<span class="sd">            value will 100% override project data.</span>
<span class="sd">        active (Optional[bool]): Change active state of a project.</span>
<span class="sd">        project_code (Optional[str]): Change project code. Not recommended</span>
<span class="sd">            during production.</span>
<span class="sd">        **changes: Other changed keys based on Rest API documentation.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">update_project</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="delete_project"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.delete_project">[docs]</a><span class="k">def</span> <span class="nf">delete_project</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete project from server.</span>

<span class="sd">    This will completely remove project from server without any step back.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project name that will be removed.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">delete_project</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_full_link_type_name"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_full_link_type_name">[docs]</a><span class="k">def</span> <span class="nf">get_full_link_type_name</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Calculate full link type name used for query from server.</span>

<span class="sd">    Args:</span>
<span class="sd">        link_type_name (str): Type of link.</span>
<span class="sd">        input_type (str): Input entity type of link.</span>
<span class="sd">        output_type (str): Output entity type of link.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: Full name of link type used for query from server.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_full_link_type_name</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_link_types"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_link_types">[docs]</a><span class="k">def</span> <span class="nf">get_link_types</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;All link types available on a project.</span>

<span class="sd">    Example output:</span>
<span class="sd">        [</span>
<span class="sd">            {</span>
<span class="sd">                &quot;name&quot;: &quot;reference|folder|folder&quot;,</span>
<span class="sd">                &quot;link_type&quot;: &quot;reference&quot;,</span>
<span class="sd">                &quot;input_type&quot;: &quot;folder&quot;,</span>
<span class="sd">                &quot;output_type&quot;: &quot;folder&quot;,</span>
<span class="sd">                &quot;data&quot;: {}</span>
<span class="sd">            }</span>
<span class="sd">        ]</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Name of project where to look for link types.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[dict[str, Any]]: Link types available on project.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_link_types</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_link_type"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_link_type">[docs]</a><span class="k">def</span> <span class="nf">get_link_type</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get link type data.</span>

<span class="sd">    There is not dedicated REST endpoint to get single link type,</span>
<span class="sd">    so method &#39;get_link_types&#39; is used.</span>

<span class="sd">    Example output:</span>
<span class="sd">        {</span>
<span class="sd">            &quot;name&quot;: &quot;reference|folder|folder&quot;,</span>
<span class="sd">            &quot;link_type&quot;: &quot;reference&quot;,</span>
<span class="sd">            &quot;input_type&quot;: &quot;folder&quot;,</span>
<span class="sd">            &quot;output_type&quot;: &quot;folder&quot;,</span>
<span class="sd">            &quot;data&quot;: {}</span>
<span class="sd">        }</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project where link type is available.</span>
<span class="sd">        link_type_name (str): Name of link type.</span>
<span class="sd">        input_type (str): Input entity type of link.</span>
<span class="sd">        output_type (str): Output entity type of link.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Union[None, dict[str, Any]]: Link type information.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_link_type</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="create_link_type"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.create_link_type">[docs]</a><span class="k">def</span> <span class="nf">create_link_type</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create or update link type on server.</span>

<span class="sd">    Warning:</span>
<span class="sd">        Because PUT is used for creation it is also used for update.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project where link type is created.</span>
<span class="sd">        link_type_name (str): Name of link type.</span>
<span class="sd">        input_type (str): Input entity type of link.</span>
<span class="sd">        output_type (str): Output entity type of link.</span>
<span class="sd">        data (Optional[dict[str, Any]]): Additional data related to link.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPRequestError: Server error happened.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">create_link_type</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="delete_link_type"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.delete_link_type">[docs]</a><span class="k">def</span> <span class="nf">delete_link_type</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Remove link type from project.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project where link type is created.</span>
<span class="sd">        link_type_name (str): Name of link type.</span>
<span class="sd">        input_type (str): Input entity type of link.</span>
<span class="sd">        output_type (str): Output entity type of link.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPRequestError: Server error happened.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">delete_link_type</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="make_sure_link_type_exists"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.make_sure_link_type_exists">[docs]</a><span class="k">def</span> <span class="nf">make_sure_link_type_exists</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Make sure link type exists on a project.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Name of project.</span>
<span class="sd">        link_type_name (str): Name of link type.</span>
<span class="sd">        input_type (str): Input entity type of link.</span>
<span class="sd">        output_type (str): Output entity type of link.</span>
<span class="sd">        data (Optional[dict[str, Any]]): Link type related data.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">make_sure_link_type_exists</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="create_link"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.create_link">[docs]</a><span class="k">def</span> <span class="nf">create_link</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create link between 2 entities.</span>

<span class="sd">    Link has a type which must already exists on a project.</span>

<span class="sd">    Example output::</span>

<span class="sd">        {</span>
<span class="sd">            &quot;id&quot;: &quot;59a212c0d2e211eda0e20242ac120002&quot;</span>
<span class="sd">        }</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project where the link is created.</span>
<span class="sd">        link_type_name (str): Type of link.</span>
<span class="sd">        input_id (str): Input entity id.</span>
<span class="sd">        input_type (str): Entity type of input entity.</span>
<span class="sd">        output_id (str): Output entity id.</span>
<span class="sd">        output_type (str): Entity type of output entity.</span>
<span class="sd">        link_name (Optional[str]): Name of link.</span>
<span class="sd">            Available from server version &#39;1.0.0-rc.6&#39;.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict[str, str]: Information about link.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPRequestError: Server error happened.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">create_link</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="delete_link"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.delete_link">[docs]</a><span class="k">def</span> <span class="nf">delete_link</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Remove link by id.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project where link exists.</span>
<span class="sd">        link_id (str): Id of link.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPRequestError: Server error happened.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">delete_link</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_entities_links"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_entities_links">[docs]</a><span class="k">def</span> <span class="nf">get_entities_links</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Helper method to get links from server for entity types.</span>

<span class="sd">    Example output::</span>
<span class="sd">        {</span>
<span class="sd">            &quot;59a212c0d2e211eda0e20242ac120001&quot;: [</span>
<span class="sd">                {</span>
<span class="sd">                    &quot;id&quot;: &quot;59a212c0d2e211eda0e20242ac120002&quot;,</span>
<span class="sd">                    &quot;linkType&quot;: &quot;reference&quot;,</span>
<span class="sd">                    &quot;description&quot;: &quot;reference link between folders&quot;,</span>
<span class="sd">                    &quot;projectName&quot;: &quot;my_project&quot;,</span>
<span class="sd">                    &quot;author&quot;: &quot;frantadmin&quot;,</span>
<span class="sd">                    &quot;entityId&quot;: &quot;b1df109676db11ed8e8c6c9466b19aa8&quot;,</span>
<span class="sd">                    &quot;entityType&quot;: &quot;folder&quot;,</span>
<span class="sd">                    &quot;direction&quot;: &quot;out&quot;</span>
<span class="sd">                },</span>
<span class="sd">                ...</span>
<span class="sd">            ],</span>
<span class="sd">            ...</span>
<span class="sd">        }</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project where links are.</span>
<span class="sd">        entity_type (Literal[&quot;folder&quot;, &quot;task&quot;, &quot;product&quot;,</span>
<span class="sd">            &quot;version&quot;, &quot;representations&quot;]): Entity type.</span>
<span class="sd">        entity_ids (Optional[Iterable[str]]): Ids of entities for which</span>
<span class="sd">            links should be received.</span>
<span class="sd">        link_types (Optional[Iterable[str]]): Link type filters.</span>
<span class="sd">        link_direction (Optional[Literal[&quot;in&quot;, &quot;out&quot;]]): Link direction</span>
<span class="sd">            filter.</span>
<span class="sd">        link_names (Optional[Iterable[str]]): Link name filters.</span>
<span class="sd">        link_name_regex (Optional[str]): Regex filter for link name.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict[str, list[dict[str, Any]]]: Link info by entity ids.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_entities_links</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_folders_links"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_folders_links">[docs]</a><span class="k">def</span> <span class="nf">get_folders_links</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Query folders links from server.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project where links are.</span>
<span class="sd">        folder_ids (Optional[Iterable[str]]): Ids of folders for which</span>
<span class="sd">            links should be received.</span>
<span class="sd">        link_types (Optional[Iterable[str]]): Link type filters.</span>
<span class="sd">        link_direction (Optional[Literal[&quot;in&quot;, &quot;out&quot;]]): Link direction</span>
<span class="sd">            filter.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict[str, list[dict[str, Any]]]: Link info by folder ids.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_folders_links</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_folder_links"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_folder_links">[docs]</a><span class="k">def</span> <span class="nf">get_folder_links</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Query folder links from server.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project where links are.</span>
<span class="sd">        folder_id (str): Folder id for which links should be received.</span>
<span class="sd">        link_types (Optional[Iterable[str]]): Link type filters.</span>
<span class="sd">        link_direction (Optional[Literal[&quot;in&quot;, &quot;out&quot;]]): Link direction</span>
<span class="sd">            filter.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[dict[str, Any]]: Link info of folder.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_folder_links</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_tasks_links"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_tasks_links">[docs]</a><span class="k">def</span> <span class="nf">get_tasks_links</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Query tasks links from server.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project where links are.</span>
<span class="sd">        task_ids (Optional[Iterable[str]]): Ids of tasks for which</span>
<span class="sd">            links should be received.</span>
<span class="sd">        link_types (Optional[Iterable[str]]): Link type filters.</span>
<span class="sd">        link_direction (Optional[Literal[&quot;in&quot;, &quot;out&quot;]]): Link direction</span>
<span class="sd">            filter.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict[str, list[dict[str, Any]]]: Link info by task ids.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_tasks_links</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_task_links"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_task_links">[docs]</a><span class="k">def</span> <span class="nf">get_task_links</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Query task links from server.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project where links are.</span>
<span class="sd">        task_id (str): Task id for which links should be received.</span>
<span class="sd">        link_types (Optional[Iterable[str]]): Link type filters.</span>
<span class="sd">        link_direction (Optional[Literal[&quot;in&quot;, &quot;out&quot;]]): Link direction</span>
<span class="sd">            filter.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[dict[str, Any]]: Link info of task.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_task_links</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_products_links"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_products_links">[docs]</a><span class="k">def</span> <span class="nf">get_products_links</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Query products links from server.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project where links are.</span>
<span class="sd">        product_ids (Optional[Iterable[str]]): Ids of products for which</span>
<span class="sd">            links should be received.</span>
<span class="sd">        link_types (Optional[Iterable[str]]): Link type filters.</span>
<span class="sd">        link_direction (Optional[Literal[&quot;in&quot;, &quot;out&quot;]]): Link direction</span>
<span class="sd">            filter.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict[str, list[dict[str, Any]]]: Link info by product ids.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_products_links</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_product_links"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_product_links">[docs]</a><span class="k">def</span> <span class="nf">get_product_links</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Query product links from server.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project where links are.</span>
<span class="sd">        product_id (str): Product id for which links should be received.</span>
<span class="sd">        link_types (Optional[Iterable[str]]): Link type filters.</span>
<span class="sd">        link_direction (Optional[Literal[&quot;in&quot;, &quot;out&quot;]]): Link direction</span>
<span class="sd">            filter.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[dict[str, Any]]: Link info of product.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_product_links</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_versions_links"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_versions_links">[docs]</a><span class="k">def</span> <span class="nf">get_versions_links</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Query versions links from server.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project where links are.</span>
<span class="sd">        version_ids (Optional[Iterable[str]]): Ids of versions for which</span>
<span class="sd">            links should be received.</span>
<span class="sd">        link_types (Optional[Iterable[str]]): Link type filters.</span>
<span class="sd">        link_direction (Optional[Literal[&quot;in&quot;, &quot;out&quot;]]): Link direction</span>
<span class="sd">            filter.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict[str, list[dict[str, Any]]]: Link info by version ids.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_versions_links</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_version_links"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_version_links">[docs]</a><span class="k">def</span> <span class="nf">get_version_links</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Query version links from server.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project where links are.</span>
<span class="sd">        version_id (str): Version id for which links should be received.</span>
<span class="sd">        link_types (Optional[Iterable[str]]): Link type filters.</span>
<span class="sd">        link_direction (Optional[Literal[&quot;in&quot;, &quot;out&quot;]]): Link direction</span>
<span class="sd">            filter.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[dict[str, Any]]: Link info of version.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_version_links</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_representations_links"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_representations_links">[docs]</a><span class="k">def</span> <span class="nf">get_representations_links</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Query representations links from server.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project where links are.</span>
<span class="sd">        representation_ids (Optional[Iterable[str]]): Ids of</span>
<span class="sd">            representations for which links should be received.</span>
<span class="sd">        link_types (Optional[Iterable[str]]): Link type filters.</span>
<span class="sd">        link_direction (Optional[Literal[&quot;in&quot;, &quot;out&quot;]]): Link direction</span>
<span class="sd">            filter.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict[str, list[dict[str, Any]]]: Link info by representation ids.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_representations_links</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_representation_links"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.get_representation_links">[docs]</a><span class="k">def</span> <span class="nf">get_representation_links</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Query representation links from server.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Project where links are.</span>
<span class="sd">        representation_id (str): Representation id for which links</span>
<span class="sd">            should be received.</span>
<span class="sd">        link_types (Optional[Iterable[str]]): Link type filters.</span>
<span class="sd">        link_direction (Optional[Literal[&quot;in&quot;, &quot;out&quot;]]): Link direction</span>
<span class="sd">            filter.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[dict[str, Any]]: Link info of representation.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">get_representation_links</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="send_batch_operations"><a class="viewcode-back" href="../../ayon_api.html#ayon_api.send_batch_operations">[docs]</a><span class="k">def</span> <span class="nf">send_batch_operations</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Post multiple CRUD operations to server.</span>

<span class="sd">    When multiple changes should be made on server side this is the best</span>
<span class="sd">    way to go. It is possible to pass multiple operations to process on a</span>
<span class="sd">    server side and do the changes in a transaction.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): On which project should be operations</span>
<span class="sd">            processed.</span>
<span class="sd">        operations (list[dict[str, Any]]): Operations to be processed.</span>
<span class="sd">        can_fail (Optional[bool]): Server will try to process all</span>
<span class="sd">            operations even if one of them fails.</span>
<span class="sd">        raise_on_fail (Optional[bool]): Raise exception if an operation</span>
<span class="sd">            fails. You can handle failed operations on your own</span>
<span class="sd">            when set to &#39;False&#39;.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: Operations can&#39;t be converted to json string.</span>
<span class="sd">        FailedOperations: When output does not contain server operations</span>
<span class="sd">            or &#39;raise_on_fail&#39; is enabled and any operation fails.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[dict[str, Any]]: Operations result with process details.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">get_server_api_connection</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">send_batch_operations</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>
</pre></div>

					 </div>
					 
					</div>
					<footer>
  

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2024, ynput.io <info@ynput.io>
	  <br>
      
      
      
      Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
      
      <a href="https://github.com/revitron/revitron-sphinx-theme">theme</a>
      
      provided by <a href="https://github.com/revitron">Revitron</a>.

    </p>
  </div> 

</footer>

				</div>
			</div>

		</section>

	</div>
	

	<script type="text/javascript">
			jQuery(function () {
					SphinxRtdTheme.Navigation.enable(true);
			});
	</script>

	
	
		
	 

 
</body>	
</html>